(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const li=!1,ci=(t,e)=>t===e,ce=Symbol("solid-proxy"),Wr=typeof Proxy=="function",yn=Symbol("solid-track"),Dt={equals:ci};let zr=Zr;const ve=1,Mt=2,Gr={owned:null,cleanups:null,context:null,owner:null},on={};var D=null;let an=null,ui=null,B=null,X=null,be=null,Yt=0;function lt(t,e){const n=B,r=D,s=t.length===0,i=e===void 0?r:e,o=s?Gr:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?t:()=>t(()=>Q(()=>dt(o)));D=o,B=null;try{return de(a,!0)}finally{B=n,D=r}}function U(t,e){e=e?Object.assign({},Dt,e):Dt;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Xr(n,s));return[Yr.bind(n),r]}function di(t,e,n){const r=Qt(t,e,!0,ve);nt(r)}function V(t,e,n){const r=Qt(t,e,!1,ve);nt(r)}function qr(t,e,n){zr=bi;const r=Qt(t,e,!1,ve);r.user=!0,be?be.push(r):nt(r)}function H(t,e,n){n=n?Object.assign({},Dt,n):Dt;const r=Qt(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,nt(r),Yr.bind(r)}function hi(t){return t&&typeof t=="object"&&"then"in t}function Pe(t,e,n){let r,s,i;typeof e=="function"?(r=t,s=e,i={}):(r=!0,s=t,i=e||{});let o=null,a=on,l=!1,c="initialValue"in i,h=typeof r=="function"&&H(r);const u=new Set,[d,p]=(i.storage||U)(i.initialValue),[b,g]=U(void 0),[m,x]=U(void 0,{equals:!1}),[_,S]=U(c?"ready":"unresolved");function v($,C,F,M){return o===$&&(o=null,M!==void 0&&(c=!0),($===a||C===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(M,{value:C})),a=on,T(C,F)),C}function T($,C){de(()=>{C===void 0&&p(()=>$),S(C!==void 0?"errored":c?"ready":"unresolved"),g(C);for(const F of u.keys())F.decrement();u.clear()},!1)}function P(){const $=pi,C=d(),F=b();if(F!==void 0&&!o)throw F;return B&&B.user,C}function I($=!0){if($!==!1&&l)return;l=!1;const C=h?h():r;if(C==null||C===!1){v(o,Q(d));return}let F;const M=a!==on?a:Q(()=>{try{return s(C,{value:d(),refetching:$})}catch(J){F=J}});if(F!==void 0){v(o,void 0,kt(F),C);return}else if(!hi(M))return v(o,M,void 0,C),M;return o=M,"v"in M?(M.s===1?v(o,M.v,void 0,C):v(o,void 0,kt(M.v),C),M):(l=!0,queueMicrotask(()=>l=!1),de(()=>{S(c?"refreshing":"pending"),x()},!1),M.then(J=>v(M,J,void 0,C),J=>v(M,void 0,kt(J),C)))}Object.defineProperties(P,{state:{get:()=>_()},error:{get:()=>b()},loading:{get(){const $=_();return $==="pending"||$==="refreshing"}},latest:{get(){if(!c)return P();const $=b();if($&&!o)throw $;return d()}}});let R=D;return h?di(()=>(R=D,I(!1))):I(!1),[P,{refetch:$=>Mn(R,()=>I($)),mutate:p}]}function Kr(t){return de(t,!1)}function Q(t){if(B===null)return t();const e=B;B=null;try{return t()}finally{B=e}}function Dn(t,e,n){const r=Array.isArray(t);let s,i=n&&n.defer;return o=>{let a;if(r){a=Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c]()}else a=t();if(i)return i=!1,o;const l=Q(()=>e(a,s,o));return s=a,l}}function Xt(t){return D===null||(D.cleanups===null?D.cleanups=[t]:D.cleanups.push(t)),t}function _n(){return B}function Jr(){return D}function Mn(t,e){const n=D,r=B;D=t,B=null;try{return de(e,!0)}catch(s){Bn(s)}finally{D=n,B=r}}function fi(t){const e=B,n=D;return Promise.resolve().then(()=>{B=e,D=n;let r;return de(t,!1),B=D=null,r?r.done:void 0})}const[oh,ah]=U(!1);function Un(t,e){const n=Symbol("context");return{id:n,Provider:yi(n),defaultValue:t}}function Zt(t){let e;return D&&D.context&&(e=D.context[t.id])!==void 0?e:t.defaultValue}function Fn(t){const e=H(t),n=H(()=>wn(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let pi;function Yr(){if(this.sources&&this.state)if(this.state===ve)nt(this);else{const t=X;X=null,de(()=>Ft(this),!1),X=t}if(B){const t=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(t)):(B.sources=[this],B.sourceSlots=[t]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return this.value}function Xr(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&de(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],o=an&&an.running;o&&an.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?X.push(i):be.push(i),i.observers&&Qr(i)),o||(i.state=ve)}if(X.length>1e6)throw X=[],new Error},!1)),e}function nt(t){if(!t.fn)return;dt(t);const e=Yt;gi(t,t.value,e)}function gi(t,e,n){let r;const s=D,i=B;B=D=t;try{r=t.fn(e)}catch(o){return t.pure&&(t.state=ve,t.owned&&t.owned.forEach(dt),t.owned=null),t.updatedAt=n+1,Bn(o)}finally{B=i,D=s}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Xr(t,r):t.value=r,t.updatedAt=n)}function Qt(t,e,n,r=ve,s){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:D,context:D?D.context:null,pure:n};return D===null||D!==Gr&&(D.owned?D.owned.push(i):D.owned=[i]),i}function Ut(t){if(t.state===0)return;if(t.state===Mt)return Ft(t);if(t.suspense&&Q(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Yt);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===ve)nt(t);else if(t.state===Mt){const r=X;X=null,de(()=>Ft(t,e[0]),!1),X=r}}function de(t,e){if(X)return t();let n=!1;e||(X=[]),be?n=!0:be=[],Yt++;try{const r=t();return mi(n),r}catch(r){n||(be=null),X=null,Bn(r)}}function mi(t){if(X&&(Zr(X),X=null),t)return;const e=be;be=null,e.length&&de(()=>zr(e),!1)}function Zr(t){for(let e=0;e<t.length;e++)Ut(t[e])}function bi(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Ut(r)}for(e=0;e<n;e++)Ut(t[e])}function Ft(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const s=r.state;s===ve?r!==e&&(!r.updatedAt||r.updatedAt<Yt)&&Ut(r):s===Mt&&Ft(r,e)}}}function Qr(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Mt,n.pure?X.push(n):be.push(n),n.observers&&Qr(n))}}function dt(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)dt(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)dt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function kt(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Bn(t,e=D){throw kt(t)}function wn(t){if(typeof t=="function"&&!t.length)return wn(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=wn(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function yi(t,e){return function(r){let s;return V(()=>s=Q(()=>(D.context={...D.context,[t]:r.value},Fn(()=>r.children))),void 0),s}}const _i=Symbol("fallback");function ir(t){for(let e=0;e<t.length;e++)t[e]()}function wi(t,e,n={}){let r=[],s=[],i=[],o=0,a=e.length>1?[]:null;return Xt(()=>ir(i)),()=>{let l=t()||[],c=l.length,h,u;return l[yn],Q(()=>{let p,b,g,m,x,_,S,v,T;if(c===0)o!==0&&(ir(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[_i],s[0]=lt(P=>(i[0]=P,n.fallback())),o=1);else if(o===0){for(s=new Array(c),u=0;u<c;u++)r[u]=l[u],s[u]=lt(d);o=c}else{for(g=new Array(c),m=new Array(c),a&&(x=new Array(c)),_=0,S=Math.min(o,c);_<S&&r[_]===l[_];_++);for(S=o-1,v=c-1;S>=_&&v>=_&&r[S]===l[v];S--,v--)g[v]=s[S],m[v]=i[S],a&&(x[v]=a[S]);for(p=new Map,b=new Array(v+1),u=v;u>=_;u--)T=l[u],h=p.get(T),b[u]=h===void 0?-1:h,p.set(T,u);for(h=_;h<=S;h++)T=r[h],u=p.get(T),u!==void 0&&u!==-1?(g[u]=s[h],m[u]=i[h],a&&(x[u]=a[h]),u=b[u],p.set(T,u)):i[h]();for(u=_;u<c;u++)u in g?(s[u]=g[u],i[u]=m[u],a&&(a[u]=x[u],a[u](u))):s[u]=lt(d);s=s.slice(0,o=c),r=l.slice(0)}return s});function d(p){if(i[u]=p,a){const[b,g]=U(u);return a[u]=g,e(l[u],b)}return e(l[u])}}}function y(t,e){return Q(()=>t(e||{}))}function Tt(){return!0}const vn={get(t,e,n){return e===ce?n:t.get(e)},has(t,e){return e===ce?!0:t.has(e)},set:Tt,deleteProperty:Tt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Tt,deleteProperty:Tt}},ownKeys(t){return t.keys()}};function ln(t){return(t=typeof t=="function"?t():t)?t:{}}function vi(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function xn(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&ce in a,t[o]=typeof a=="function"?(e=!0,H(a)):a}if(Wr&&e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const l=ln(t[a])[o];if(l!==void 0)return l}},has(o){for(let a=t.length-1;a>=0;a--)if(o in ln(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(ln(t[a])));return[...new Set(o)]}},vn);const n={},r=Object.create(null);for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const h=l[c];if(h==="__proto__"||h==="constructor")continue;const u=Object.getOwnPropertyDescriptor(a,h);if(!r[h])r[h]=u.get?{enumerable:!0,configurable:!0,get:vi.bind(n[h]=[u.get.bind(a)])}:u.value!==void 0?u:void 0;else{const d=n[h];d&&(u.get?d.push(u.get.bind(a)):u.value!==void 0&&d.push(()=>u.value))}}}const s={},i=Object.keys(r);for(let o=i.length-1;o>=0;o--){const a=i[o],l=r[a];l&&l.get?Object.defineProperty(s,a,l):s[a]=l?l.value:void 0}return s}function xi(t,...e){const n=e.length;if(Wr&&ce in t){const s=n>1?e.flat():e[0],i=e.map(o=>new Proxy({get(a){return o.includes(a)?t[a]:void 0},has(a){return o.includes(a)&&a in t},keys(){return o.filter(a=>a in t)}},vn));return i.push(new Proxy({get(o){return s.includes(o)?void 0:t[o]},has(o){return s.includes(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!s.includes(o))}},vn)),i}const r=[];for(let s=0;s<=n;s++)r[s]={};for(const s of Object.getOwnPropertyNames(t)){let i=n;for(let l=0;l<e.length;l++)if(e[l].includes(s)){i=l;break}const o=Object.getOwnPropertyDescriptor(t,s);!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable?r[i][s]=o.value:Object.defineProperty(r[i],s,o)}return r}const Ii=t=>`Stale read from <${t}>.`;function K(t){const e="fallback"in t&&{fallback:()=>t.fallback};return H(wi(()=>t.each,t.children,e||void 0))}function k(t){const e=t.keyed,n=H(()=>t.when,void 0,void 0),r=e?n:H(n,void 0,{equals:(s,i)=>!s==!i});return H(()=>{const s=r();if(s){const i=t.children;return typeof i=="function"&&i.length>0?Q(()=>i(e?s:()=>{if(!Q(r))throw Ii("Show");return n()})):i}return t.fallback},void 0,void 0)}const Ei=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Si=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...Ei]),Ci=new Set(["innerHTML","textContent","innerText","children"]),Ti=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ai=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function $i(t,e){const n=Ai[t];return typeof n=="object"?n[e]?n.$:void 0:n}const ki=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ae=t=>H(()=>t());function Pi(t,e,n){let r=n.length,s=e.length,i=r,o=0,a=0,l=e[s-1].nextSibling,c=null;for(;o<s||a<i;){if(e[o]===n[a]){o++,a++;continue}for(;e[s-1]===n[i-1];)s--,i--;if(s===o){const h=i<r?a?n[a-1].nextSibling:n[i-a]:l;for(;a<i;)t.insertBefore(n[a++],h)}else if(i===a)for(;o<s;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[i-1]&&n[a]===e[s-1]){const h=e[--s].nextSibling;t.insertBefore(n[a++],e[o++].nextSibling),t.insertBefore(n[--i],h),e[s]=n[i]}else{if(!c){c=new Map;let u=a;for(;u<i;)c.set(n[u],u++)}const h=c.get(e[o]);if(h!=null)if(a<h&&h<i){let u=o,d=1,p;for(;++u<s&&u<i&&!((p=c.get(e[u]))==null||p!==h+d);)d++;if(d>h-a){const b=e[o];for(;a<h;)t.insertBefore(n[a++],b)}else t.replaceChild(n[a++],e[o++])}else o++;else e[o++].remove()}}}const or="_$DX_DELEGATE";function Ri(t,e,n,r={}){let s;return lt(i=>{s=i,e===document?t():f(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function w(t,e,n,r){let s;const i=()=>{const a=document.createElement("template");return a.innerHTML=t,a.content.firstChild},o=()=>(s||(s=i())).cloneNode(!0);return o.cloneNode=o,o}function xe(t,e=window.document){const n=e[or]||(e[or]=new Set);for(let r=0,s=t.length;r<s;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,Hi))}}function In(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Oi(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)}function We(t,e){e==null?t.removeAttribute("class"):t.className=e}function Ni(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=i=>s.call(t,n[1],i))}else t.addEventListener(e,n,typeof n!="function"&&n)}function Li(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||e[a]||(ar(t,a,!1),delete n[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],l=!!e[a];!a||a==="undefined"||n[a]===l||!l||(ar(t,a,!0),n[a]=l)}return n}function Di(t,e,n){if(!e)return n?In(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)s=e[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function Mi(t,e={},n,r){const s={};return V(()=>s.children=ht(t,e.children,s.children)),V(()=>typeof e.ref=="function"&&Ui(e.ref,t)),V(()=>Fi(t,e,n,!0,s,!0)),s}function Ui(t,e,n){return Q(()=>t(e,n))}function f(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return ht(t,e,r,n);V(s=>ht(t,e(),s,n),r)}function Fi(t,e,n,r,s={},i=!1){e||(e={});for(const o in s)if(!(o in e)){if(o==="children")continue;s[o]=lr(t,o,null,s[o],n,i,e)}for(const o in e){if(o==="children")continue;const a=e[o];s[o]=lr(t,o,a,s[o],n,i,e)}}function Bi(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function ar(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)t.classList.toggle(r[s],n)}function lr(t,e,n,r,s,i,o){let a,l,c,h,u;if(e==="style")return Di(t,n,r);if(e==="classList")return Li(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);r&&t.removeEventListener(d,r,typeof r!="function"&&r),n&&t.addEventListener(d,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);r&&t.removeEventListener(d,r,!0),n&&t.addEventListener(d,n,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),p=ki.has(d);if(!p&&r){const b=Array.isArray(r)?r[0]:r;t.removeEventListener(d,b)}(p||n)&&(Ni(t,d,n,p),p&&xe([d]))}else e.slice(0,5)==="attr:"?In(t,e.slice(5),n):e.slice(0,5)==="bool:"?Oi(t,e.slice(5),n):(u=e.slice(0,5)==="prop:")||(c=Ci.has(e))||(h=$i(e,t.tagName))||(l=Si.has(e))||(a=t.nodeName.includes("-")||"is"in o)?(u&&(e=e.slice(5),l=!0),e==="class"||e==="className"?We(t,n):a&&!l&&!c?t[Bi(e)]=n:t[h||e]=n):In(t,Ti[e]||e,n);return n}function Hi(t){let e=t.target;const n=`$$${t.type}`,r=t.target,s=t.currentTarget,i=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),o=()=>{const l=e[n];if(l&&!e.disabled){const c=e[`${n}Data`];if(c!==void 0?l.call(e,c,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),!0},a=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const l=t.composedPath();i(l[0]);for(let c=0;c<l.length-2&&(e=l[c],!!o());c++){if(e._$host){e=e._$host,a();break}if(e.parentNode===s)break}}else a();i(r)}function ht(t,e,n,r,s){for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=qe(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean")n=qe(t,n,r);else{if(i==="function")return V(()=>{let a=e();for(;typeof a=="function";)a=a();n=ht(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],l=n&&Array.isArray(n);if(En(a,e,n,s))return V(()=>n=ht(t,a,n,r,!0)),()=>n;if(a.length===0){if(n=qe(t,n,r),o)return n}else l?n.length===0?cr(t,a,r):Pi(t,n,a):(n&&qe(t),cr(t,a));n=a}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=qe(t,n,r,e);qe(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function En(t,e,n,r){let s=!1;for(let i=0,o=e.length;i<o;i++){let a=e[i],l=n&&n[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))s=En(t,a,l)||s;else if(c==="function")if(r){for(;typeof a=="function";)a=a();s=En(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else t.push(a),s=!0;else{const h=String(a);l&&l.nodeType===3&&l.data===h?t.push(l):t.push(document.createTextNode(h))}}return s}function cr(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function qe(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(s!==a){const l=a.parentNode===t;!i&&!o?l?t.replaceChild(s,a):t.insertBefore(s,n):l&&a.remove()}else i=!0}}else t.insertBefore(s,n);return[s]}const Vi=!1;function es(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const o={to:s,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of t)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(s,{...i,resolve:!1})}});return!o.defaultPrevented}return{subscribe:e,confirm:r}}let Sn;function Hn(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Sn=window.history.state._depth}Hn();function ji(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Wi(t,e){let n=!1;return()=>{const r=Sn;Hn();const s=r==null?null:Sn-r;if(n){n=!1;return}s&&e(s)?(n=!0,window.history.go(-s)):t()}}const zi=/^(?:[a-z0-9]+:)?\/\//i,Gi=/^\/+|(\/)\/+$/g,ts="http://sr";function je(t,e=!1){const n=t.replace(Gi,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Pt(t,e,n){if(zi.test(e))return;const r=je(t),s=n&&je(n);let i="";return!s||e.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+je(e,!i)}function qi(t,e){if(t==null)throw new Error(e);return t}function Ki(t,e){return je(t).replace(/\/*(\*.*)?$/g,"")+je(e)}function ns(t){const e={};return t.searchParams.forEach((n,r)=>{r in e?Array.isArray(e[r])?e[r].push(n):e[r]=[e[r],n]:e[r]=n}),e}function Ji(t,e,n){const[r,s]=t.split("/*",2),i=r.split("/").filter(Boolean),o=i.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&s===void 0&&!e)return null;const h={path:o?"":"/",params:{}},u=d=>n===void 0?void 0:n[d];for(let d=0;d<o;d++){const p=i[d],b=p[0]===":",g=b?l[d]:l[d].toLowerCase(),m=b?p.slice(1):p.toLowerCase();if(b&&cn(g,u(m)))h.params[m]=g;else if(b||!cn(g,m))return null;h.path+=`/${g}`}if(s){const d=c?l.slice(-c).join("/"):"";if(cn(d,u(s)))h.params[s]=d;else return null}return h}}function cn(t,e){const n=r=>r===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Yi(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function rs(t){const e=new Map,n=Jr();return new Proxy({},{get(r,s){return e.has(s)||Mn(n,()=>e.set(s,H(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())},has(r,s){return s in t()}})}function ss(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=e[1]),r=r.slice(e[0].length);return ss(r).reduce((i,o)=>[...i,...s.map(a=>a+o)],[])}const Xi=100,is=Un(),Vn=Un(),_t=()=>qi(Zt(is),"<A> and 'use' router primitives can be only used inside a Route."),Zi=()=>Zt(Vn)||_t().base,Qi=t=>{const e=Zi();return H(()=>e.resolvePath(t()))},eo=t=>{const e=_t();return H(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},jn=()=>_t().navigatorFactory(),to=()=>_t().location,no=()=>_t().params;function ro(t,e=""){const{component:n,preload:r,load:s,children:i,info:o}=t,a=!i||Array.isArray(i)&&!i.length,l={key:t,component:n,preload:r||s,info:o};return os(t.path).reduce((c,h)=>{for(const u of ss(h)){const d=Ki(e,u);let p=a?d:d.split("/*",1)[0];p=p.split("/").map(b=>b.startsWith(":")||b.startsWith("*")?b:encodeURIComponent(b)).join("/"),c.push({...l,originalPath:h,pattern:p,matcher:Ji(p,!a,t.matchFilters)})}return c},[])}function so(t,e=0){return{routes:t,score:Yi(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s],o=i.matcher(n);if(!o)return null;r.unshift({...o,route:i})}return r}}}function os(t){return Array.isArray(t)?t:[t]}function as(t,e="",n=[],r=[]){const s=os(t);for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=ro(a,e);for(const c of l){n.push(c);const h=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!h)as(a.children,c.pattern,n,r);else{const u=so([...n],r.length);r.push(u)}n.pop()}}}return n.length?r:r.sort((i,o)=>o.score-i.score)}function un(t,e){for(let n=0,r=t.length;n<r;n++){const s=t[n].matcher(e);if(s)return s}return[]}function io(t,e,n){const r=new URL(ts),s=H(h=>{const u=t();try{return new URL(u,r)}catch{return console.error(`Invalid path ${u}`),h}},r,{equals:(h,u)=>h.href===u.href}),i=H(()=>s().pathname),o=H(()=>s().search,!0),a=H(()=>s().hash),l=()=>"",c=Dn(o,()=>ns(s()));return{get pathname(){return i()},get search(){return o()},get hash(){return a()},get state(){return e()},get key(){return l()},query:n?n(c):rs(c)}}let He;function oo(){return He}function ao(t,e,n,r={}){const{signal:[s,i],utils:o={}}=t,a=o.parsePath||(E=>E),l=o.renderPath||(E=>E),c=o.beforeLeave||es(),h=Pt("",r.base||"");if(h===void 0)throw new Error(`${h} is not a valid base path`);h&&!s().value&&i({value:h,replace:!0,scroll:!1});const[u,d]=U(!1);let p;const b=(E,O)=>{O.value===g()&&O.state===x()||(p===void 0&&d(!0),He=E,p=O,fi(()=>{p===O&&(m(p.value),_(p.state),T[1](q=>q.filter(ee=>ee.pending)))}).finally(()=>{p===O&&Kr(()=>{He=void 0,E==="navigate"&&M(p),d(!1),p=void 0})}))},[g,m]=U(s().value),[x,_]=U(s().state),S=io(g,x,o.queryWrapper),v=[],T=U([]),P=H(()=>typeof r.transformUrl=="function"?un(e(),r.transformUrl(S.pathname)):un(e(),S.pathname)),I=()=>{const E=P(),O={};for(let q=0;q<E.length;q++)Object.assign(O,E[q].params);return O},R=o.paramsWrapper?o.paramsWrapper(I,e):rs(I),$={pattern:h,path:()=>h,outlet:()=>null,resolvePath(E){return Pt(h,E)}};return V(Dn(s,E=>b("native",E),{defer:!0})),{base:$,location:S,params:R,isRouting:u,renderPath:l,parsePath:a,navigatorFactory:F,matches:P,beforeLeave:c,preloadRoute:J,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:T};function C(E,O,q){Q(()=>{if(typeof O=="number"){O&&(o.go?o.go(O):console.warn("Router integration does not support relative routing"));return}const ee=!O||O[0]==="?",{replace:te,resolve:ie,scroll:N,state:z}={replace:!1,resolve:!ee,scroll:!0,...q},W=ie?E.resolvePath(O):Pt(ee&&S.pathname||"",O);if(W===void 0)throw new Error(`Path '${O}' is not a routable path`);if(v.length>=Xi)throw new Error("Too many redirects");const ne=g();(W!==ne||z!==x())&&(Vi||c.confirm(W,q)&&(v.push({value:ne,replace:te,scroll:N,state:x()}),b("navigate",{value:W,state:z})))})}function F(E){return E=E||Zt(Vn)||$,(O,q)=>C(E,O,q)}function M(E){const O=v[0];O&&(i({...E,replace:O.replace,scroll:O.scroll}),v.length=0)}function J(E,O){const q=un(e(),E.pathname),ee=He;He="preload";for(let te in q){const{route:ie,params:N}=q[te];ie.component&&ie.component.preload&&ie.component.preload();const{preload:z}=ie;O&&z&&Mn(n(),()=>z({params:N,location:{pathname:E.pathname,search:E.search,hash:E.hash,query:ns(E),state:null,key:""},intent:"preload"}))}He=ee}}function lo(t,e,n,r){const{base:s,location:i,params:o}=t,{pattern:a,component:l,preload:c}=r().route,h=H(()=>r().path);l&&l.preload&&l.preload();const u=c?c({params:o,location:i,intent:He||"initial"}):void 0;return{parent:e,pattern:a,path:h,outlet:()=>l?y(l,{params:o,location:i,data:u,get children(){return n()}}):n(),resolvePath(p){return Pt(s.path(),p,h())}}}const co=t=>e=>{const{base:n}=e,r=Fn(()=>e.children),s=H(()=>as(r(),e.base||""));let i;const o=ao(t,s,()=>i,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(o),y(is.Provider,{value:o,get children(){return y(uo,{routerState:o,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[ae(()=>(i=Jr())&&null),y(ho,{routerState:o,get branches(){return s()}})]}})}})};function uo(t){const e=t.routerState.location,n=t.routerState.params,r=H(()=>t.preload&&Q(()=>{t.preload({params:n,location:e,intent:oo()||"initial"})}));return y(k,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:s=>y(s,{params:n,location:e,get data(){return r()},get children(){return t.children}})})}function ho(t){const e=[];let n;const r=H(Dn(t.routerState.matches,(s,i,o)=>{let a=i&&s.length===i.length;const l=[];for(let c=0,h=s.length;c<h;c++){const u=i&&i[c],d=s[c];o&&u&&d.route.key===u.route.key?l[c]=o[c]:(a=!1,e[c]&&e[c](),lt(p=>{e[c]=p,l[c]=lo(t.routerState,l[c-1]||t.routerState.base,ur(()=>r()[c+1]),()=>{const b=t.routerState.matches();return b[c]??b[0]})}))}return e.splice(s.length).forEach(c=>c()),o&&a?o:(n=l[0],l)}));return ur(()=>r()&&n)()}const ur=t=>()=>y(k,{get when(){return t()},keyed:!0,children:e=>y(Vn.Provider,{value:e,get children(){return e.outlet()}})}),Ke=t=>{const e=Fn(()=>t.children);return xn(t,{get children(){return e()}})};function fo([t,e],n,r){return[t,r?s=>e(r(s)):e]}function po(t){let e=!1;const n=s=>typeof s=="string"?{value:s}:s,r=fo(U(n(t.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!e&&t.set(s),s));return t.init&&Xt(t.init((s=t.get())=>{e=!0,r[1](n(s)),e=!1})),co({signal:r,create:t.create,utils:t.utils})}function go(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function mo(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const bo=new Map;function yo(t=!0,e=!1,n="/_server",r){return s=>{const i=s.base.path(),o=s.navigatorFactory(s.base);let a,l;function c(g){return g.namespaceURI==="http://www.w3.org/2000/svg"}function h(g){if(g.defaultPrevented||g.button!==0||g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)return;const m=g.composedPath().find(P=>P instanceof Node&&P.nodeName.toUpperCase()==="A");if(!m||e&&!m.hasAttribute("link"))return;const x=c(m),_=x?m.href.baseVal:m.href;if((x?m.target.baseVal:m.target)||!_&&!m.hasAttribute("state"))return;const v=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||v&&v.includes("external"))return;const T=x?new URL(_,document.baseURI):new URL(_);if(!(T.origin!==window.location.origin||i&&T.pathname&&!T.pathname.toLowerCase().startsWith(i.toLowerCase())))return[m,T]}function u(g){const m=h(g);if(!m)return;const[x,_]=m,S=s.parsePath(_.pathname+_.search+_.hash),v=x.getAttribute("state");g.preventDefault(),o(S,{resolve:!1,replace:x.hasAttribute("replace"),scroll:!x.hasAttribute("noscroll"),state:v?JSON.parse(v):void 0})}function d(g){const m=h(g);if(!m)return;const[x,_]=m;r&&(_.pathname=r(_.pathname)),s.preloadRoute(_,x.getAttribute("preload")!=="false")}function p(g){clearTimeout(a);const m=h(g);if(!m)return l=null;const[x,_]=m;l!==x&&(r&&(_.pathname=r(_.pathname)),a=setTimeout(()=>{s.preloadRoute(_,x.getAttribute("preload")!=="false"),l=x},20))}function b(g){if(g.defaultPrevented)return;let m=g.submitter&&g.submitter.hasAttribute("formaction")?g.submitter.getAttribute("formaction"):g.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const _=new URL(m,ts);if(m=s.parsePath(_.pathname+_.search),!m.startsWith(n))return}if(g.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const x=bo.get(m);if(x){g.preventDefault();const _=new FormData(g.target,g.submitter);x.call({r:s,f:g.target},g.target.enctype==="multipart/form-data"?_:new URLSearchParams(_))}}xe(["click","submit"]),document.addEventListener("click",u),t&&(document.addEventListener("mousemove",p,{passive:!0}),document.addEventListener("focusin",d,{passive:!0}),document.addEventListener("touchstart",d,{passive:!0})),document.addEventListener("submit",b),Xt(()=>{document.removeEventListener("click",u),t&&(document.removeEventListener("mousemove",p),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",b)})}}function _o(t){const e=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,s=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:s}},n=es();return po({get:e,set({value:r,replace:s,scroll:i,state:o}){s?window.history.replaceState(ji(o),"",r):window.history.pushState(o,"",r),mo(decodeURIComponent(window.location.hash.slice(1)),i),Hn()},init:r=>go(window,"popstate",Wi(r,s=>{if(s)return!n.confirm(s);{const i=e();return!n.confirm(i.value,{state:i.state})}})),create:yo(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(t)}var wo=w("<a>");function Te(t){t=xn({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=xi(t,["href","state","class","activeClass","inactiveClass","end"]),n=Qi(()=>t.href),r=eo(n),s=to(),i=H(()=>{const o=n();if(o===void 0)return[!1,!1];const a=je(o.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(je(s.pathname).toLowerCase());return[t.end?a===l:l.startsWith(a+"/")||l===a,a===l]});return(()=>{var o=wo();return Mi(o,xn(e,{get href(){return r()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!i()[0],[t.activeClass]:i()[0],...e.classList}},link:"",get"aria-current"(){return i()[1]?"page":void 0}}),!1),o})()}const Cn=Symbol("store-raw"),Je=Symbol("store-node"),fe=Symbol("store-has"),ls=Symbol("store-self");function cs(t){let e=t[ce];if(!e&&(Object.defineProperty(t,ce,{value:e=new Proxy(t,Io)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let s=0,i=n.length;s<i;s++){const o=n[s];r[o].get&&Object.defineProperty(t,o,{enumerable:r[o].enumerable,get:r[o].get.bind(e)})}}return e}function Bt(t){let e;return t!=null&&typeof t=="object"&&(t[ce]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function ft(t,e=new Set){let n,r,s,i;if(n=t!=null&&t[Cn])return n;if(!Bt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)s=t[o],(r=ft(s,e))!==s&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=o.length;l<c;l++)i=o[l],!a[i].get&&(s=t[i],(r=ft(s,e))!==s&&(t[i]=r))}return t}function Ht(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function pt(t,e,n){if(t[e])return t[e];const[r,s]=U(n,{equals:!1,internal:!0});return r.$=s,t[e]=r}function vo(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===ce||e===Je||(delete n.value,delete n.writable,n.get=()=>t[ce][e]),n}function us(t){_n()&&pt(Ht(t,Je),ls)()}function xo(t){return us(t),Reflect.ownKeys(t)}const Io={get(t,e,n){if(e===Cn)return t;if(e===ce)return n;if(e===yn)return us(t),n;const r=Ht(t,Je),s=r[e];let i=s?s():t[e];if(e===Je||e===fe||e==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(t,e);_n()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(i=pt(r,e,i)())}return Bt(i)?cs(i):i},has(t,e){return e===Cn||e===ce||e===yn||e===Je||e===fe||e==="__proto__"?!0:(_n()&&pt(Ht(t,fe),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:xo,getOwnPropertyDescriptor:vo};function Vt(t,e,n,r=!1){if(!r&&t[e]===n)return;const s=t[e],i=t.length;n===void 0?(delete t[e],t[fe]&&t[fe][e]&&s!==void 0&&t[fe][e].$()):(t[e]=n,t[fe]&&t[fe][e]&&s===void 0&&t[fe][e].$());let o=Ht(t,Je),a;if((a=pt(o,e,s))&&a.$(()=>n),Array.isArray(t)&&t.length!==i){for(let l=t.length;l<i;l++)(a=o[l])&&a.$();(a=pt(o,"length",i))&&a.$(t.length)}(a=o[ls])&&a.$()}function ds(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const s=n[r];Vt(t,s,e[s])}}function Eo(t,e){if(typeof e=="function"&&(e=e(t)),e=ft(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const s=e[n];t[n]!==s&&Vt(t,n,s)}Vt(t,"length",r)}else ds(t,e)}function it(t,e,n=[]){let r,s=t;if(e.length>1){r=e.shift();const o=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let l=0;l<r.length;l++)it(t,[r[l]].concat(e),n);return}else if(a&&o==="function"){for(let l=0;l<t.length;l++)r(t[l],l)&&it(t,[l].concat(e),n);return}else if(a&&o==="object"){const{from:l=0,to:c=t.length-1,by:h=1}=r;for(let u=l;u<=c;u+=h)it(t,[u].concat(e),n);return}else if(e.length>1){it(t[r],e,[r].concat(n));return}s=t[r],n=[r].concat(n)}let i=e[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=ft(i),r===void 0||Bt(s)&&Bt(i)&&!Array.isArray(i)?ds(s,i):Vt(t,r,i))}function So(...[t,e]){const n=ft(t||{}),r=Array.isArray(n),s=cs(n);function i(...o){Kr(()=>{r&&o.length===1?Eo(n,o[0]):it(n,o)})}return[s,i]}const Co=()=>{};var dr={};const hs=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},To=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,u=(i&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),r.push(n[h],n[u],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hs(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):To(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const u=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||u==null)throw new Ao;const d=i<<2|a>>4;if(r.push(d),c!==64){const p=a<<4&240|c>>2;if(r.push(p),u!==64){const b=c<<6&192|u;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ao extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $o=function(t){const e=hs(t);return fs.encodeByteArray(e,!0)},ps=function(t){return $o(t).replace(/\./g,"")},gs=function(t){try{return fs.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ko(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Po=()=>ko().__FIREBASE_DEFAULTS__,Ro=()=>{if(typeof process>"u"||typeof dr>"u")return;const t=dr.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Oo=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gs(t[1]);return e&&JSON.parse(e)},Wn=()=>{try{return Co()||Po()||Ro()||Oo()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},No=t=>Wn()?.emulatorHosts?.[t],ms=()=>Wn()?.config,bs=t=>Wn()?.[`_${t}`];class Lo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function en(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Do(t){return(await fetch(t,{credentials:"include"})).ok}const ct={};function Mo(){const t={prod:[],emulator:[]};for(const e of Object.keys(ct))ct[e]?t.emulator.push(e):t.prod.push(e);return t}function Uo(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hr=!1;function Fo(t,e){if(typeof window>"u"||typeof document>"u"||!en(window.location.host)||ct[t]===e||ct[t]||hr)return;ct[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",i=Mo().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{hr=!0,o()},d}function h(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function u(){const d=Uo(r),p=n("text"),b=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),m=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const S=d.element;a(S),h(m,g);const v=c();l(_,x),S.append(_,b,m,v),document.body.appendChild(S)}i?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}function Z(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function Ho(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vo(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jo(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wo(){const t=Z();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zo(){try{return typeof indexedDB=="object"}catch{return!1}}function Go(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const qo="FirebaseError";class Ne extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qo,Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Ko(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ne(s,a,r)}}function Ko(t,e){return t.replace(Jo,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Jo=/\{\$([^}]+)}/g;function Yo(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function et(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(fr(i)&&fr(o)){if(!et(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function fr(t){return t!==null&&typeof t=="object"}function vt(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ot(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function at(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Xo(t,e){const n=new Zo(t,e);return n.subscribe.bind(n)}class Zo{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qo(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dn),s.error===void 0&&(s.error=dn),s.complete===void 0&&(s.complete=dn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qo(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dn(){}function Ie(t){return t&&t._delegate?t._delegate:t}class tt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Be="[DEFAULT]";class ea{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(na(e))try{this.getOrInitializeService({instanceIdentifier:Be})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Be){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Be){return this.instances.has(e)}getOptions(e=Be){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ta(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Be){return this.component?this.component.multipleInstances?e:Be:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ta(t){return t===Be?void 0:t}function na(t){return t.instantiationMode==="EAGER"}class ra{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ea(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var j;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(j||(j={}));const sa={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ia=j.INFO,oa={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},aa=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oa[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ys{constructor(e){this.name=e,this._logLevel=ia,this._logHandler=aa,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in j))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sa[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...e),this._logHandler(this,j.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...e),this._logHandler(this,j.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,j.INFO,...e),this._logHandler(this,j.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,j.WARN,...e),this._logHandler(this,j.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...e),this._logHandler(this,j.ERROR,...e)}}const la=(t,e)=>e.some(n=>t instanceof n);let pr,gr;function ca(){return pr||(pr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ua(){return gr||(gr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _s=new WeakMap,Tn=new WeakMap,ws=new WeakMap,hn=new WeakMap,zn=new WeakMap;function da(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Re(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_s.set(n,t)}).catch(()=>{}),zn.set(e,t),e}function ha(t){if(Tn.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Tn.set(t,e)}let An={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tn.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ws.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Re(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fa(t){An=t(An)}function pa(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fn(this),e,...n);return ws.set(r,e.sort?e.sort():[e]),Re(r)}:ua().includes(t)?function(...e){return t.apply(fn(this),e),Re(_s.get(this))}:function(...e){return Re(t.apply(fn(this),e))}}function ga(t){return typeof t=="function"?pa(t):(t instanceof IDBTransaction&&ha(t),la(t,ca())?new Proxy(t,An):t)}function Re(t){if(t instanceof IDBRequest)return da(t);if(hn.has(t))return hn.get(t);const e=ga(t);return e!==t&&(hn.set(t,e),zn.set(e,t)),e}const fn=t=>zn.get(t);function ma(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Re(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Re(o.result),l.oldVersion,l.newVersion,Re(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ba=["get","getKey","getAll","getAllKeys","count"],ya=["put","add","delete","clear"],pn=new Map;function mr(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pn.get(e))return pn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ya.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ba.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return pn.set(e,i),i}fa(t=>({...t,get:(e,n,r)=>mr(e,n)||t.get(e,n,r),has:(e,n)=>!!mr(e,n)||t.has(e,n)}));class _a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wa(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wa(t){return t.getComponent()?.type==="VERSION"}const $n="@firebase/app",br="0.14.6";const _e=new ys("@firebase/app"),va="@firebase/app-compat",xa="@firebase/analytics-compat",Ia="@firebase/analytics",Ea="@firebase/app-check-compat",Sa="@firebase/app-check",Ca="@firebase/auth",Ta="@firebase/auth-compat",Aa="@firebase/database",$a="@firebase/data-connect",ka="@firebase/database-compat",Pa="@firebase/functions",Ra="@firebase/functions-compat",Oa="@firebase/installations",Na="@firebase/installations-compat",La="@firebase/messaging",Da="@firebase/messaging-compat",Ma="@firebase/performance",Ua="@firebase/performance-compat",Fa="@firebase/remote-config",Ba="@firebase/remote-config-compat",Ha="@firebase/storage",Va="@firebase/storage-compat",ja="@firebase/firestore",Wa="@firebase/ai",za="@firebase/firestore-compat",Ga="firebase",qa="12.6.0";const kn="[DEFAULT]",Ka={[$n]:"fire-core",[va]:"fire-core-compat",[Ia]:"fire-analytics",[xa]:"fire-analytics-compat",[Sa]:"fire-app-check",[Ea]:"fire-app-check-compat",[Ca]:"fire-auth",[Ta]:"fire-auth-compat",[Aa]:"fire-rtdb",[$a]:"fire-data-connect",[ka]:"fire-rtdb-compat",[Pa]:"fire-fn",[Ra]:"fire-fn-compat",[Oa]:"fire-iid",[Na]:"fire-iid-compat",[La]:"fire-fcm",[Da]:"fire-fcm-compat",[Ma]:"fire-perf",[Ua]:"fire-perf-compat",[Fa]:"fire-rc",[Ba]:"fire-rc-compat",[Ha]:"fire-gcs",[Va]:"fire-gcs-compat",[ja]:"fire-fst",[za]:"fire-fst-compat",[Wa]:"fire-vertex","fire-js":"fire-js",[Ga]:"fire-js-all"};const jt=new Map,Ja=new Map,Pn=new Map;function yr(t,e){try{t.container.addComponent(e)}catch(n){_e.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gt(t){const e=t.name;if(Pn.has(e))return _e.debug(`There were multiple attempts to register component ${e}.`),!1;Pn.set(e,t);for(const n of jt.values())yr(n,t);for(const n of Ja.values())yr(n,t);return!0}function vs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function re(t){return t==null?!1:t.settings!==void 0}const Ya={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oe=new wt("app","Firebase",Ya);class Xa{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oe.create("app-deleted",{appName:this._name})}}const xt=qa;function xs(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:kn,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Oe.create("bad-app-name",{appName:String(s)});if(n||(n=ms()),!n)throw Oe.create("no-options");const i=jt.get(s);if(i){if(et(n,i.options)&&et(r,i.config))return i;throw Oe.create("duplicate-app",{appName:s})}const o=new ra(s);for(const l of Pn.values())o.addComponent(l);const a=new Xa(n,r,o);return jt.set(s,a),a}function Za(t=kn){const e=jt.get(t);if(!e&&t===kn&&ms())return xs();if(!e)throw Oe.create("no-app",{appName:t});return e}function Ye(t,e,n){let r=Ka[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_e.warn(o.join(" "));return}gt(new tt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Qa="firebase-heartbeat-database",el=1,mt="firebase-heartbeat-store";let gn=null;function Is(){return gn||(gn=ma(Qa,el,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mt)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oe.create("idb-open",{originalErrorMessage:t.message})})),gn}async function tl(t){try{const n=(await Is()).transaction(mt),r=await n.objectStore(mt).get(Es(t));return await n.done,r}catch(e){if(e instanceof Ne)_e.warn(e.message);else{const n=Oe.create("idb-get",{originalErrorMessage:e?.message});_e.warn(n.message)}}}async function _r(t,e){try{const r=(await Is()).transaction(mt,"readwrite");await r.objectStore(mt).put(e,Es(t)),await r.done}catch(n){if(n instanceof Ne)_e.warn(n.message);else{const r=Oe.create("idb-set",{originalErrorMessage:n?.message});_e.warn(r.message)}}}function Es(t){return`${t.name}!${t.options.appId}`}const nl=1024,rl=30;class sl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ol(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wr();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rl){const s=al(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_e.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wr(),{heartbeatsToSend:n,unsentEntries:r}=il(this._heartbeatsCache.heartbeats),s=ps(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return _e.warn(e),""}}}function wr(){return new Date().toISOString().substring(0,10)}function il(t,e=nl){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),vr(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vr(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ol{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zo()?Go().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tl(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _r(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _r(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vr(t){return ps(JSON.stringify({version:2,heartbeats:t})).length}function al(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ll(t){gt(new tt("platform-logger",e=>new _a(e),"PRIVATE")),gt(new tt("heartbeat",e=>new sl(e),"PRIVATE")),Ye($n,br,t),Ye($n,br,"esm2020"),Ye("fire-js","")}ll("");function Ss(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cl=Ss,Cs=new wt("auth","Firebase",Ss());const Wt=new ys("@firebase/auth");function ul(t,...e){Wt.logLevel<=j.WARN&&Wt.warn(`Auth (${xt}): ${t}`,...e)}function Rt(t,...e){Wt.logLevel<=j.ERROR&&Wt.error(`Auth (${xt}): ${t}`,...e)}function se(t,...e){throw qn(t,...e)}function le(t,...e){return qn(t,...e)}function Gn(t,e,n){const r={...cl(),[e]:n};return new wt("auth","Firebase",r).create(e,{appName:t.name})}function ye(t){return Gn(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&se(t,"argument-error"),Gn(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qn(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Cs.create(t,...e)}function A(t,e,...n){if(!t)throw qn(e,...n)}function ge(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rt(e),new Error(e)}function we(t,e){t||ge(e)}function Rn(){return typeof self<"u"&&self.location?.href||""}function hl(){return xr()==="http:"||xr()==="https:"}function xr(){return typeof self<"u"&&self.location?.protocol||null}function fl(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hl()||Vo()||"connection"in navigator)?navigator.onLine:!0}function pl(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class It{constructor(e,n){this.shortDelay=e,this.longDelay=n,we(n>e,"Short delay should be less than long delay!"),this.isMobile=Bo()||jo()}get(){return fl()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kn(t,e){we(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ts{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ml=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bl=new It(3e4,6e4);function Le(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function De(t,e,n,r,s={}){return As(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vt({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return Ho()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&en(t.emulatorConfig.host)&&(c.credentials="include"),Ts.fetch()(await $s(t,t.config.apiHost,n,a),c)})}async function As(t,e,n){t._canInitEmulator=!1;const r={...gl,...e};try{const s=new _l(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw At(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw At(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw At(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw At(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Gn(t,h,c);se(t,h)}}catch(s){if(s instanceof Ne)throw s;se(t,"network-request-failed",{message:String(s)})}}async function Et(t,e,n,r,s={}){const i=await De(t,e,n,r,s);return"mfaPendingCredential"in i&&se(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function $s(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Kn(t.config,s):`${t.config.apiScheme}://${s}`;return ml.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function yl(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _l{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(le(this.auth,"network-request-failed")),bl.get())})}}function At(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=le(t,e,r);return s.customData._tokenResponse=n,s}function Ir(t){return t!==void 0&&t.enterprise!==void 0}class wl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yl(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vl(t,e){return De(t,"GET","/v2/recaptchaConfig",Le(t,e))}async function xl(t,e){return De(t,"POST","/v1/accounts:delete",e)}async function zt(t,e){return De(t,"POST","/v1/accounts:lookup",e)}function ut(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Il(t,e=!1){const n=Ie(t),r=await n.getIdToken(e),s=Jn(r);A(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:ut(mn(s.auth_time)),issuedAtTime:ut(mn(s.iat)),expirationTime:ut(mn(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function mn(t){return Number(t)*1e3}function Jn(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const s=gs(n);return s?JSON.parse(s):(Rt("Failed to decode base64 JWT payload"),null)}catch(s){return Rt("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Er(t){const e=Jn(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bt(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ne&&El(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function El({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Sl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class On{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ut(this.lastLoginAt),this.creationTime=ut(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gt(t){const e=t.auth,n=await t.getIdToken(),r=await bt(t,zt(e,{idToken:n}));A(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?ks(s.providerUserInfo):[],o=Tl(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new On(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Cl(t){const e=Ie(t);await Gt(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tl(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ks(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Al(t,e){const n=await As(t,{},async()=>{const r=vt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await $s(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&en(t.emulatorConfig.host)&&(l.credentials="include"),Ts.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $l(t,e){return De(t,"POST","/v2/accounts:revokeToken",Le(t,e))}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Er(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){A(e.length!==0,"internal-error");const n=Er(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(A(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Al(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Xe;return r&&(A(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(A(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(A(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Ce(t,e){A(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oe{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Sl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new On(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bt(this,this.stsTokenManager.getToken(this.auth,e));return A(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Il(this,e)}reload(){return Cl(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oe({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gt(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(re(this.auth.app))return Promise.reject(ye(this.auth));const e=await this.getIdToken();return await bt(this,xl(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:p,providerData:b,stsTokenManager:g}=n;A(u&&g,e,"internal-error");const m=Xe.fromJSON(this.name,g);A(typeof u=="string",e,"internal-error"),Ce(r,e.name),Ce(s,e.name),A(typeof d=="boolean",e,"internal-error"),A(typeof p=="boolean",e,"internal-error"),Ce(i,e.name),Ce(o,e.name),Ce(a,e.name),Ce(l,e.name),Ce(c,e.name),Ce(h,e.name);const x=new oe({uid:u,auth:e,email:s,emailVerified:d,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:m,createdAt:c,lastLoginAt:h});return b&&Array.isArray(b)&&(x.providerData=b.map(_=>({..._}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Xe;s.updateFromServerResponse(n);const i=new oe({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gt(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];A(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ks(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Xe;a.updateFromIdToken(r);const l=new oe({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new On(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,c),l}}const Sr=new Map;function me(t){we(t instanceof Function,"Expected a class definition");let e=Sr.get(t);return e?(we(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sr.set(t,e),e)}class Ps{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ps.type="NONE";const Cr=Ps;function Ot(t,e,n){return`firebase:${t}:${e}:${n}`}class Ze{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ot(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ot("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zt(this.auth,{idToken:e}).catch(()=>{});return n?oe._fromGetAccountInfoResponse(this.auth,n,e):null}return oe._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ze(me(Cr),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||me(Cr);const o=Ot(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let u;if(typeof h=="string"){const d=await zt(e,{idToken:h}).catch(()=>{});if(!d)break;u=await oe._fromGetAccountInfoResponse(e,d,h)}else u=oe._fromJSON(e,h);c!==i&&(a=u),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ze(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ze(i,e,r))}}function Tr(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ls(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rs(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ms(e))return"Blackberry";if(Us(e))return"Webos";if(Os(e))return"Safari";if((e.includes("chrome/")||Ns(e))&&!e.includes("edge/"))return"Chrome";if(Ds(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Rs(t=Z()){return/firefox\//i.test(t)}function Os(t=Z()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ns(t=Z()){return/crios\//i.test(t)}function Ls(t=Z()){return/iemobile/i.test(t)}function Ds(t=Z()){return/android/i.test(t)}function Ms(t=Z()){return/blackberry/i.test(t)}function Us(t=Z()){return/webos/i.test(t)}function Yn(t=Z()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kl(t=Z()){return Yn(t)&&!!window.navigator?.standalone}function Pl(){return Wo()&&document.documentMode===10}function Fs(t=Z()){return Yn(t)||Ds(t)||Us(t)||Ms(t)||/windows phone/i.test(t)||Ls(t)}function Bs(t,e=[]){let n;switch(t){case"Browser":n=Tr(Z());break;case"Worker":n=`${Tr(Z())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xt}/${r}`}class Rl{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Ol(t,e={}){return De(t,"GET","/v2/passwordPolicy",Le(t,e))}const Nl=6;class Ll{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nl,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Dl{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.beforeStateQueue=new Rl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cs,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=me(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ze.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zt(this,{idToken:e}),r=await oe._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(re(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gt(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pl()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(re(this.app))return Promise.reject(ye(this));const n=e?Ie(e):null;return n&&A(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&A(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return re(this.app)?Promise.reject(ye(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return re(this.app)?Promise.reject(ye(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(me(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ol(this),n=new Ll(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $l(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&me(e)||this._popupRedirectResolver;A(n,this,"argument-error"),this.redirectPersistenceManager=await Ze.create(this,[me(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(re(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ul(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Me(t){return Ie(t)}class Ar{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xo(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ml(t){tn=t}function Hs(t){return tn.loadJS(t)}function Ul(){return tn.recaptchaEnterpriseScript}function Fl(){return tn.gapiScript}function Bl(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Hl{constructor(){this.enterprise=new Vl}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Vl{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jl="recaptcha-enterprise",Vs="NO_RECAPTCHA";class Wl{constructor(e){this.type=jl,this.auth=Me(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{vl(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new wl(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ir(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Vs)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hl().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ir(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ul();l.length!==0&&(l+=a),Hs(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function $r(t,e,n,r=!1,s=!1){const i=new Wl(t);let o;if(s)o=Vs;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Nn(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await $r(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $r(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function zl(t,e){const n=vs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(et(i,e??{}))return s;se(s,"already-initialized")}return n.initialize({options:e})}function Gl(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(me);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ql(t,e,n){const r=Me(t);A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=js(e),{host:o,port:a}=Kl(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){A(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),A(et(c,r.config.emulator)&&et(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,en(o)?(Do(`${i}//${o}${l}`),Fo("Auth",!0)):Jl()}function js(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kl(t){const e=js(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:kr(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:kr(o)}}}function kr(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jl(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Xn{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ge("not implemented")}_getIdTokenResponse(e){return ge("not implemented")}_linkToIdToken(e,n){return ge("not implemented")}_getReauthenticationResolver(e){return ge("not implemented")}}async function Yl(t,e){return De(t,"POST","/v1/accounts:signUp",e)}async function Xl(t,e){return Et(t,"POST","/v1/accounts:signInWithPassword",Le(t,e))}async function Zl(t,e){return Et(t,"POST","/v1/accounts:signInWithEmailLink",Le(t,e))}async function Ql(t,e){return Et(t,"POST","/v1/accounts:signInWithEmailLink",Le(t,e))}class yt extends Xn{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yt(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yt(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nn(e,n,"signInWithPassword",Xl);case"emailLink":return Zl(e,{email:this._email,oobCode:this._password});default:se(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nn(e,r,"signUpPassword",Yl);case"emailLink":return Ql(e,{idToken:n,email:this._email,oobCode:this._password});default:se(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qe(t,e){return Et(t,"POST","/v1/accounts:signInWithIdp",Le(t,e))}const ec="http://localhost";class ze extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ze(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):se("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ze(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qe(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qe(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qe(e,n)}buildRequest(){const e={requestUri:ec,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vt(n)}return e}}function tc(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nc(t){const e=ot(at(t)).link,n=e?ot(at(e)).deep_link_id:null,r=ot(at(t)).deep_link_id;return(r?ot(at(r)).link:null)||r||n||e||t}class Zn{constructor(e){const n=ot(at(e)),r=n.apiKey??null,s=n.oobCode??null,i=tc(n.mode??null);A(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nc(e);try{return new Zn(n)}catch{return null}}}class rt{constructor(){this.providerId=rt.PROVIDER_ID}static credential(e,n){return yt._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zn.parseLink(n);return A(r,"argument-error"),yt._fromEmailAndCode(e,r.code,r.tenantId)}}rt.PROVIDER_ID="password";rt.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class St extends Qn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ae extends St{constructor(){super("facebook.com")}static credential(e){return ze._fromParams({providerId:Ae.PROVIDER_ID,signInMethod:Ae.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ae.credentialFromTaggedObject(e)}static credentialFromError(e){return Ae.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ae.credential(e.oauthAccessToken)}catch{return null}}}Ae.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ae.PROVIDER_ID="facebook.com";class pe extends St{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ze._fromParams({providerId:pe.PROVIDER_ID,signInMethod:pe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pe.credentialFromTaggedObject(e)}static credentialFromError(e){return pe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pe.credential(n,r)}catch{return null}}}pe.GOOGLE_SIGN_IN_METHOD="google.com";pe.PROVIDER_ID="google.com";class $e extends St{constructor(){super("github.com")}static credential(e){return ze._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $e.credential(e.oauthAccessToken)}catch{return null}}}$e.GITHUB_SIGN_IN_METHOD="github.com";$e.PROVIDER_ID="github.com";class ke extends St{constructor(){super("twitter.com")}static credential(e,n){return ze._fromParams({providerId:ke.PROVIDER_ID,signInMethod:ke.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ke.credentialFromTaggedObject(e)}static credentialFromError(e){return ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ke.credential(n,r)}catch{return null}}}ke.TWITTER_SIGN_IN_METHOD="twitter.com";ke.PROVIDER_ID="twitter.com";async function rc(t,e){return Et(t,"POST","/v1/accounts:signUp",Le(t,e))}class Ge{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await oe._fromIdTokenResponse(e,r,s),o=Pr(r);return new Ge({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Pr(r);return new Ge({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Pr(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class qt extends Ne{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qt.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new qt(e,n,r,s)}}function Ws(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qt._fromErrorAndOperation(t,i,e,r):i})}async function sc(t,e,n=!1){const r=await bt(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ge._forOperation(t,"link",r)}async function ic(t,e,n=!1){const{auth:r}=t;if(re(r.app))return Promise.reject(ye(r));const s="reauthenticate";try{const i=await bt(t,Ws(r,s,e,t),n);A(i.idToken,r,"internal-error");const o=Jn(i.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Ge._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&se(r,"user-mismatch"),i}}async function zs(t,e,n=!1){if(re(t.app))return Promise.reject(ye(t));const r="signIn",s=await Ws(t,r,e),i=await Ge._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function oc(t,e){return zs(Me(t),e)}async function Gs(t){const e=Me(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ac(t,e,n){if(re(t.app))return Promise.reject(ye(t));const r=Me(t),o=await Nn(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rc).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Gs(t),l}),a=await Ge._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function lc(t,e,n){return re(t.app)?Promise.reject(ye(t)):oc(Ie(t),rt.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gs(t),r})}function cc(t,e,n,r){return Ie(t).onIdTokenChanged(e,n,r)}function uc(t,e,n){return Ie(t).beforeAuthStateChanged(e,n)}function dc(t,e,n,r){return Ie(t).onAuthStateChanged(e,n,r)}function hc(t){return Ie(t).signOut()}const Kt="__sak";class qs{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kt,"1"),this.storage.removeItem(Kt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fc=1e3,pc=10;class Ks extends qs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fs(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Pl()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pc):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ks.type="LOCAL";const gc=Ks;class Js extends qs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Js.type="SESSION";const Ys=Js;function mc(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class nn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new nn(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await mc(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nn.receivers=[];function er(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class bc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=er("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(u){const d=u;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function ue(){return window}function yc(t){ue().location.href=t}function Xs(){return typeof ue().WorkerGlobalScope<"u"&&typeof ue().importScripts=="function"}async function _c(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wc(){return navigator?.serviceWorker?.controller||null}function vc(){return Xs()?self:null}const Zs="firebaseLocalStorageDb",xc=1,Jt="firebaseLocalStorage",Qs="fbase_key";class Ct{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rn(t,e){return t.transaction([Jt],e?"readwrite":"readonly").objectStore(Jt)}function Ic(){const t=indexedDB.deleteDatabase(Zs);return new Ct(t).toPromise()}function Ln(){const t=indexedDB.open(Zs,xc);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jt,{keyPath:Qs})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jt)?e(r):(r.close(),await Ic(),e(await Ln()))})})}async function Rr(t,e,n){const r=rn(t,!0).put({[Qs]:e,value:n});return new Ct(r).toPromise()}async function Ec(t,e){const n=rn(t,!1).get(e),r=await new Ct(n).toPromise();return r===void 0?null:r.value}function Or(t,e){const n=rn(t,!0).delete(e);return new Ct(n).toPromise()}const Sc=800,Cc=3;class ei{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ln(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Cc)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nn._getInstance(vc()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _c(),!this.activeServiceWorker)return;this.sender=new bc(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wc()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ln();return await Rr(e,Kt,"1"),await Or(e,Kt),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rr(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ec(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Or(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=rn(s,!1).getAll();return new Ct(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ei.type="LOCAL";const Tc=ei;new It(3e4,6e4);function ti(t,e){return e?me(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class tr extends Xn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qe(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qe(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ac(t){return zs(t.auth,new tr(t),t.bypassAuthState)}function $c(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),ic(n,new tr(t),t.bypassAuthState)}async function kc(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),sc(n,new tr(t),t.bypassAuthState)}class ni{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ac;case"linkViaPopup":case"linkViaRedirect":return kc;case"reauthViaPopup":case"reauthViaRedirect":return $c;default:se(this.auth,"internal-error")}}resolve(e){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pc=new It(2e3,1e4);async function Rc(t,e,n){if(re(t.app))return Promise.reject(le(t,"operation-not-supported-in-this-environment"));const r=Me(t);dl(t,e,Qn);const s=ti(r,n);return new Ve(r,"signInViaPopup",e,s).executeNotNull()}class Ve extends ni{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ve.currentPopupAction&&Ve.currentPopupAction.cancel(),Ve.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return A(e,this.auth,"internal-error"),e}async onExecution(){we(this.filter.length===1,"Popup operations only handle one event");const e=er();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(le(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ve.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(le(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pc.get())};e()}}Ve.currentPopupAction=null;const Oc="pendingRedirect",Nt=new Map;class Nc extends ni{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nt.get(this.auth._key());if(!e){try{const r=await Lc(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nt.set(this.auth._key(),e)}return this.bypassAuthState||Nt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lc(t,e){const n=Uc(e),r=Mc(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Dc(t,e){Nt.set(t._key(),e)}function Mc(t){return me(t._redirectPersistence)}function Uc(t){return Ot(Oc,t.config.apiKey,t.name)}async function Fc(t,e,n=!1){if(re(t.app))return Promise.reject(ye(t));const r=Me(t),s=ti(r,e),o=await new Nc(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const Bc=600*1e3;class Hc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vc(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ri(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(le(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bc&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nr(e))}saveEventToCache(e){this.cachedEventUids.add(Nr(e)),this.lastProcessedEventTime=Date.now()}}function Nr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ri({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Vc(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ri(t);default:return!1}}async function jc(t,e={}){return De(t,"GET","/v1/projects",e)}const Wc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zc=/^https?/;async function Gc(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jc(t);for(const n of e)try{if(qc(n))return}catch{}se(t,"unauthorized-domain")}function qc(t){const e=Rn(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zc.test(n))return!1;if(Wc.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Kc=new It(3e4,6e4);function Lr(){const t=ue().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jc(t){return new Promise((e,n)=>{function r(){Lr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lr(),n(le(t,"network-request-failed"))},timeout:Kc.get()})}if(ue().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ue().gapi?.load)r();else{const s=Bl("iframefcb");return ue()[s]=()=>{gapi.load?r():n(le(t,"network-request-failed"))},Hs(`${Fl()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Lt=null,e})}let Lt=null;function Yc(t){return Lt=Lt||Jc(t),Lt}const Xc=new It(5e3,15e3),Zc="__/auth/iframe",Qc="emulator/auth/iframe",eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nu(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kn(e,Qc):`https://${t.config.authDomain}/${Zc}`,r={apiKey:e.apiKey,appName:t.name,v:xt},s=tu.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vt(r).slice(1)}`}async function ru(t){const e=await Yc(t),n=ue().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:nu(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eu,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=le(t,"network-request-failed"),a=ue().setTimeout(()=>{i(o)},Xc.get());function l(){ue().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const su={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iu=500,ou=600,au="_blank",lu="http://localhost";class Dr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cu(t,e,n,r=iu,s=ou){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...su,width:r.toString(),height:s.toString(),top:i,left:o},c=Z().toLowerCase();n&&(a=Ns(c)?au:n),Rs(c)&&(e=e||lu,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,b])=>`${d}${p}=${b},`,"");if(kl(c)&&a!=="_self")return uu(e||"",a),new Dr(null);const u=window.open(e||"",a,h);A(u,t,"popup-blocked");try{u.focus()}catch{}return new Dr(u)}function uu(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const du="__/auth/handler",hu="emulator/auth/handler",fu=encodeURIComponent("fac");async function Mr(t,e,n,r,s,i){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xt,eventId:s};if(e instanceof Qn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Yo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,u]of Object.entries({}))o[h]=u}if(e instanceof St){const h=e.getScopes().filter(u=>u!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${fu}=${encodeURIComponent(l)}`:"";return`${pu(t)}?${vt(a).slice(1)}${c}`}function pu({config:t}){return t.emulator?Kn(t,hu):`https://${t.authDomain}/${du}`}const bn="webStorageSupport";class gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=Fc,this._overrideRedirectResult=Dc}async _openPopup(e,n,r,s){we(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Mr(e,n,r,Rn(),s);return cu(e,i,er())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Mr(e,n,r,Rn(),s);return yc(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(we(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ru(e),r=new Hc(e);return n.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bn,{type:bn},s=>{const i=s?.[0]?.[bn];i!==void 0&&n(!!i),se(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gc(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fs()||Os()||Yn()}}const mu=gu;var Ur="@firebase/auth",Fr="1.12.0";class bu{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yu(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _u(t){gt(new tt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bs(t)},c=new Dl(r,s,i,l);return Gl(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gt(new tt("auth-internal",e=>{const n=Me(e.getProvider("auth").getImmediate());return(r=>new bu(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(Ur,Fr,yu(t)),Ye(Ur,Fr,"esm2020")}const wu=300,vu=bs("authIdTokenMaxAge")||wu;let Br=null;const xu=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vu)return;const s=n?.token;Br!==s&&(Br=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Iu(t=Za()){const e=vs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zl(t,{popupRedirectResolver:mu,persistence:[Tc,gc,Ys]}),r=bs("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=xu(i.toString());uc(n,o,()=>o(n.currentUser)),cc(n,a=>o(a))}}const s=No("auth");return s&&ql(n,`http://${s}`),n}function Eu(){return document.getElementsByTagName("head")?.[0]??document}Ml({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=le("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Eu().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_u("Browser");var Su="firebase",Cu="12.7.0";Ye(Su,Cu,"app");const Tu={apiKey:"AIzaSyAk8BXkbIjV61o8SzLxl6YEw5em7k-aMTk",authDomain:"goliath-fd522.firebaseapp.com",projectId:"goliath-fd522",storageBucket:"goliath-fd522.firebasestorage.app",messagingSenderId:"1014603000424",appId:"1:1014603000424:web:627f0c36a885648510a9dd",measurementId:"G-9TC0B3HTRG"},Au=xs(Tu),st=Iu(Au),si=Un(),$u=t=>{const[e,n]=So({user:null,loading:!0,token:null});qr(()=>{const c=dc(st,async h=>{if(console.log("Auth state changed:",h?.email||"signed out"),h){const u=await h.getIdToken();console.log("Got token:",u.substring(0,20)+"..."),n("user",h),n("token",u),n("loading",!1),localStorage.setItem("firebase_token",u)}else n("user",null),n("token",null),n("loading",!1),localStorage.removeItem("firebase_token")});Xt(()=>c())});const l={get user(){return e.user},get loading(){return e.loading},get token(){return e.token},signIn:async(c,h)=>{try{const d=await(await lc(st,c,h)).user.getIdToken();n({token:d})}catch(u){throw console.error("Sign in error:",u),new Error(u.message)}},signUp:async(c,h)=>{try{const d=await(await ac(st,c,h)).user.getIdToken();n({token:d})}catch(u){throw console.error("Sign up error:",u),new Error(u.message)}},signInWithGoogle:async()=>{try{const c=new pe,u=await(await Rc(st,c)).user.getIdToken();n({token:u})}catch(c){throw console.error("Google sign in error:",c),new Error(c.message)}},signOut:async()=>{try{await hc(st),n({user:null,token:null}),localStorage.removeItem("firebase_token")}catch(c){throw console.error("Sign out error:",c),new Error(c.message)}},refreshToken:async()=>{if(e.user)try{const c=await e.user.getIdToken(!0);return n({token:c}),localStorage.setItem("firebase_token",c),c}catch(c){return console.error("Token refresh error:",c),null}return null}};return y(si.Provider,{value:l,get children(){return t.children}})},ii=()=>{const t=Zt(si);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},nr=()=>{const t=localStorage.getItem("firebase_token");return t?{Authorization:`Bearer ${t}`}:{}},rr="https://api.goliath.c7d5a6.com";async function Ue(t){const e=await fetch(`${rr}${t}`,{method:"GET",headers:{"Content-Type":"application/json",...nr()}});if(!e.ok)throw new Error(`API Error: ${e.statusText}`);return e.json()}async function ku(t,e){const n=await fetch(`${rr}${t}`,{method:"POST",headers:{"Content-Type":"application/json",...nr()},body:JSON.stringify(e)});if(!n.ok){const r=await n.json().catch(()=>({error:n.statusText}));throw new Error(r.error||`API Error: ${n.statusText}`)}return n.json()}async function Pu(t,e){const n=await fetch(`${rr}${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...nr()},body:JSON.stringify(e)});if(!n.ok){const r=await n.json().catch(()=>({error:n.statusText}));throw new Error(r.error||`API Error: ${n.statusText}`)}return n.json()}var Ru=w('<div class="flex gap-3 mb-6 flex-wrap"><span class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium shadow-sm">Muscles<span class="bg-primary-500 text-white px-2 py-0.5 rounded-full text-xs font-semibold"></span></span><span class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium shadow-sm">Groups<span class="bg-primary-500 text-white px-2 py-0.5 rounded-full text-xs font-semibold">'),Ou=w('<div class="flex flex-col items-center justify-center py-16 text-slate-500"><div class="spinner mb-4"></div><span>Loading muscles...'),Nu=w('<div class="py-12 px-4 text-center text-red-600"><div class="text-4xl mb-2"></div><p class=font-medium>Failed to load muscles</p><p class="text-sm opacity-80 mt-1"></p><button class="mt-4 px-6 py-2 bg-primary-500 text-white rounded-lg text-sm font-medium hover:bg-primary-600 active:scale-[0.98] transition-all">Try Again'),Lu=w('<div class="py-16 px-4 text-center text-slate-500"><div class="text-4xl mb-2 opacity-50"></div><p>No muscles found matching "<!>"'),Du=w('<div class="hidden sm:block overflow-x-auto"><table class="w-full text-sm"><thead class="bg-gradient-to-b from-slate-50 to-slate-100 sticky top-0"><tr><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">#</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Muscle</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Muscle Group</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Exercise Areas</th></tr></thead><tbody class="divide-y divide-slate-100">'),Mu=w('<div class="sm:hidden p-4 space-y-3">'),Uu=w('<div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden"><div class="p-4 border-b border-slate-200 bg-slate-50"><div class=relative><span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></span><input type=text class="w-full pl-11 pr-4 py-3 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400 transition-shadow"placeholder="Search muscles, groups, or exercise areas...">'),Fu=w('<span class="text-slate-400 text-sm">'),Bu=w('<tr class="hover:bg-primary-50 transition-colors"><td class="px-4 py-3 text-slate-400 text-sm"></td><td class="px-4 py-3"><span class="font-semibold text-slate-900"></span></td><td class="px-4 py-3"><span class="inline-block px-3 py-1 bg-accent-50 text-accent-500 rounded-full text-xs font-medium"></span></td><td class="px-4 py-3"><div class="flex flex-wrap gap-1.5">'),Hr=w('<span class="inline-block px-2 py-0.5 bg-primary-50 text-primary-600 rounded text-xs font-medium">'),Hu=w('<div class=mt-3><div class="text-[10px] uppercase tracking-wide text-slate-400 mb-1.5">Exercise Areas</div><div class="flex flex-wrap gap-1.5">'),Vu=w('<div class="bg-white border border-slate-200 rounded-lg p-4 active:bg-primary-50 transition-colors"><div class="flex justify-between items-start gap-3 mb-3"><span class="font-semibold text-slate-900"></span><span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded flex-shrink-0">#</span></div><span class="inline-block px-3 py-1 bg-accent-50 text-accent-500 rounded-full text-xs font-medium">');async function ju(){return Ue("/muscles")}function Wu(){const[t,{refetch:e}]=Pe(ju),[n,r]=U(""),s=H(()=>{const o=t()?.muscles??[],a=n().toLowerCase().trim();return a?o.filter(l=>l.name.toLowerCase().includes(a)||l.muscle_group_name.toLowerCase().includes(a)||l.exercise_areas.some(c=>c.toLowerCase().includes(a))):o}),i=H(()=>{const o=t()?.muscles??[];return new Set(o.map(a=>a.muscle_group_name)).size});return[y(k,{get when(){return t()},get children(){var o=Ru(),a=o.firstChild,l=a.firstChild,c=l.nextSibling,h=a.nextSibling,u=h.firstChild,d=u.nextSibling;return f(c,()=>t().count),f(d,i),o}}),(()=>{var o=Uu(),a=o.firstChild,l=a.firstChild,c=l.firstChild,h=c.nextSibling;return h.$$input=u=>r(u.currentTarget.value),f(o,y(k,{get when(){return t.loading},get children(){return Ou()}}),null),f(o,y(k,{get when(){return t.error},get children(){var u=Nu(),d=u.firstChild,p=d.nextSibling,b=p.nextSibling,g=b.nextSibling;return f(b,()=>t.error?.message),g.$$click=()=>e(),u}}),null),f(o,y(k,{get when(){return ae(()=>!!(t()&&!t.loading))()&&!t.error},get children(){return[y(k,{get when(){return s().length===0},get children(){var u=Lu(),d=u.firstChild,p=d.nextSibling,b=p.firstChild,g=b.nextSibling;return g.nextSibling,f(p,n,g),u}}),y(k,{get when(){return s().length>0},get children(){return[(()=>{var u=Du(),d=u.firstChild,p=d.firstChild,b=p.nextSibling;return f(b,y(K,{get each(){return s()},children:g=>(()=>{var m=Bu(),x=m.firstChild,_=x.nextSibling,S=_.firstChild,v=_.nextSibling,T=v.firstChild,P=v.nextSibling,I=P.firstChild;return f(x,()=>g.id),f(S,()=>g.name),f(T,()=>g.muscle_group_name),f(I,y(K,{get each(){return g.exercise_areas},children:R=>(()=>{var $=Hr();return f($,R),$})()}),null),f(I,y(k,{get when(){return g.exercise_areas.length===0},get children(){return Fu()}}),null),m})()})),u})(),(()=>{var u=Mu();return f(u,y(K,{get each(){return s()},children:d=>(()=>{var p=Vu(),b=p.firstChild,g=b.firstChild,m=g.nextSibling;m.firstChild;var x=b.nextSibling;return f(g,()=>d.name),f(m,()=>d.id,null),f(x,()=>d.muscle_group_name),f(p,y(k,{get when(){return d.exercise_areas.length>0},get children(){var _=Hu(),S=_.firstChild,v=S.nextSibling;return f(v,y(K,{get each(){return d.exercise_areas},children:T=>(()=>{var P=Hr();return f(P,T),P})()})),_}}),null),p})()})),u})()]}})]}}),null),V(()=>h.value=n()),o})()]}xe(["input","click"]);var zu=w('<div class="flex gap-3 mb-6 flex-wrap"><span class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium shadow-sm">Exercises<span class="bg-primary-500 text-white px-2 py-0.5 rounded-full text-xs font-semibold">'),Gu=w('<div class="flex flex-col items-center justify-center py-16 text-slate-500"><div class="spinner mb-4"></div><span>Loading exercises...'),qu=w('<div class="py-12 px-4 text-center text-red-600"><div class="text-4xl mb-2"></div><p class=font-medium>Failed to load exercises</p><p class="text-sm opacity-80 mt-1"></p><button class="mt-4 px-6 py-2 bg-primary-500 text-white rounded-lg text-sm font-medium hover:bg-primary-600 active:scale-[0.98] transition-all">Try Again'),Ku=w('<div class="py-16 px-4 text-center text-slate-500"><div class="text-4xl mb-2 opacity-50"></div><p>No exercises found matching "<!>"'),Ju=w('<div class="hidden sm:block overflow-x-auto"><table class="w-full text-sm"><thead class="bg-gradient-to-b from-slate-50 to-slate-100 sticky top-0"><tr><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">#</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Exercise</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Type</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Exercise Areas</th></tr></thead><tbody class="divide-y divide-slate-100">'),Yu=w('<div class="sm:hidden p-4 space-y-3">'),Xu=w('<div class=relative><div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden"><div class="p-4 border-b border-slate-200 bg-slate-50"><div class=relative><span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></span><input type=text class="w-full pl-11 pr-4 py-3 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400 transition-shadow"placeholder="Search exercises, types, or exercise areas...">'),Zu=w('<span class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium shadow-sm"><span class="bg-accent-500 text-white px-2 py-0.5 rounded-full text-xs font-semibold">'),Qu=w('<span class="text-slate-400 text-sm">'),ed=w('<tr class="hover:bg-primary-50 transition-colors"><td class="px-4 py-3 text-slate-400 text-sm"></td><td class="px-4 py-3"></td><td class="px-4 py-3"><span></span></td><td class="px-4 py-3"><div class="flex flex-wrap gap-1.5">'),Vr=w('<span class="inline-flex items-center gap-1.5 px-2 py-0.5 bg-accent-50 text-accent-600 rounded text-xs font-medium"><span class="text-[10px] font-semibold bg-accent-100 px-1 rounded">%'),td=w('<div class="flex justify-between items-start gap-3 mb-3"><span class="font-semibold text-primary-600"></span><div class="flex items-center gap-2"><span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded flex-shrink-0">#</span><span class="text-slate-400 text-sm">'),nd=w("<span>"),rd=w('<div class=mt-3><div class="text-[10px] uppercase tracking-wide text-slate-400 mb-1.5">Exercise Areas</div><div class="flex flex-wrap gap-1.5">');async function sd(){return Ue("/exercises")}const jr={Reps:{bg:"bg-blue-50",text:"text-blue-600"},Eccentric:{bg:"bg-purple-50",text:"text-purple-600"},Isometric:{bg:"bg-orange-50",text:"text-orange-600"}};function id(){const[t,{refetch:e}]=Pe(sd),[n,r]=U(""),s=H(()=>{const o=t()?.exercises??[],a=n().toLowerCase().trim();return a?o.filter(l=>l.name.toLowerCase().includes(a)||l.type.toLowerCase().includes(a)||l.exercise_areas.some(c=>c.exercise_area_name.toLowerCase().includes(a))):o}),i=H(()=>{const o=t()?.exercises??[],a=new Map;return o.forEach(l=>{a.set(l.type,(a.get(l.type)||0)+1)}),a});return(()=>{var o=Xu(),a=o.firstChild,l=a.firstChild,c=l.firstChild,h=c.firstChild,u=h.nextSibling;return f(o,y(k,{get when(){return t()},get children(){var d=zu(),p=d.firstChild,b=p.firstChild,g=b.nextSibling;return f(g,()=>t().count),f(d,y(K,{get each(){return Array.from(i().entries())},children:([m,x])=>(()=>{var _=Zu(),S=_.firstChild;return f(_,m,S),f(S,x),_})()}),null),d}}),a),u.$$input=d=>r(d.currentTarget.value),f(a,y(k,{get when(){return t.loading},get children(){return Gu()}}),null),f(a,y(k,{get when(){return t.error},get children(){var d=qu(),p=d.firstChild,b=p.nextSibling,g=b.nextSibling,m=g.nextSibling;return f(g,()=>t.error?.message),m.$$click=()=>e(),d}}),null),f(a,y(k,{get when(){return ae(()=>!!(t()&&!t.loading))()&&!t.error},get children(){return[y(k,{get when(){return s().length===0},get children(){var d=Ku(),p=d.firstChild,b=p.nextSibling,g=b.firstChild,m=g.nextSibling;return m.nextSibling,f(b,n,m),d}}),y(k,{get when(){return s().length>0},get children(){return[(()=>{var d=Ju(),p=d.firstChild,b=p.firstChild,g=b.nextSibling;return f(g,y(K,{get each(){return s()},children:m=>{const x=jr[m.type]||{bg:"bg-gray-50",text:"text-gray-600"};return(()=>{var _=ed(),S=_.firstChild,v=S.nextSibling,T=v.nextSibling,P=T.firstChild,I=T.nextSibling,R=I.firstChild;return f(S,()=>m.id),f(v,y(Te,{get href(){return`/exercises/${m.id}/edit`},class:"font-semibold text-primary-600 hover:text-primary-700 hover:underline transition-colors cursor-pointer",get children(){return m.name}})),f(P,()=>m.type),f(R,y(K,{get each(){return m.exercise_areas},children:$=>(()=>{var C=Vr(),F=C.firstChild,M=F.firstChild;return f(C,()=>$.exercise_area_name,F),f(F,()=>Math.round($.percentage),M),C})()}),null),f(R,y(k,{get when(){return m.exercise_areas.length===0},get children(){return Qu()}}),null),V(()=>We(P,`inline-block px-3 py-1 ${x.bg} ${x.text} rounded-full text-xs font-medium`)),_})()}})),d})(),(()=>{var d=Yu();return f(d,y(K,{get each(){return s()},children:p=>{const b=jr[p.type]||{bg:"bg-gray-50",text:"text-gray-600"};return y(Te,{get href(){return`/exercises/${p.id}/edit`},class:"block bg-white border border-slate-200 rounded-lg p-4 hover:border-primary-300 hover:shadow-md active:bg-primary-50 transition-all",get children(){return[(()=>{var g=td(),m=g.firstChild,x=m.nextSibling,_=x.firstChild;return _.firstChild,f(m,()=>p.name),f(_,()=>p.id,null),g})(),(()=>{var g=nd();return f(g,()=>p.type),V(()=>We(g,`inline-block px-3 py-1 ${b.bg} ${b.text} rounded-full text-xs font-medium`)),g})(),y(k,{get when(){return p.exercise_areas.length>0},get children(){var g=rd(),m=g.firstChild,x=m.nextSibling;return f(x,y(K,{get each(){return p.exercise_areas},children:_=>(()=>{var S=Vr(),v=S.firstChild,T=v.firstChild;return f(S,()=>_.exercise_area_name,v),f(v,()=>Math.round(_.percentage),T),S})()})),g}})]}})}})),d})()]}})]}}),null),f(o,y(Te,{href:"/exercises/new",class:`fixed bottom-6 right-6 w-14 h-14 bg-accent-500 text-white rounded-full shadow-lg
               flex items-center justify-center text-2xl hover:bg-accent-600 hover:scale-110
               active:scale-95 transition-all z-50`,title:"Add new exercise",children:""}),null),V(()=>u.value=n()),o})()}xe(["input","click"]);var od=w('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-3"><span class=text-lg></span><div class=flex-1><p class=font-medium>Error</p><p class="text-sm mt-0.5"></p></div><button type=button class="text-red-400 hover:text-red-600">'),ad=w('<div class="text-sm text-slate-500">Loading types...'),ld=w('<select class="w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"required><option value>Select exercise type...'),cd=w('<div class="text-sm text-slate-400 italic py-3 text-center bg-slate-50 rounded-lg border border-dashed border-slate-200">No muscles selected. Search and add muscles below.'),ud=w('<div class="border border-slate-200 rounded-lg divide-y divide-slate-100 max-h-60 overflow-y-auto">'),dd=w('<div class="text-sm text-slate-400 italic py-2 text-center">No muscles found'),hd=w('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin">'),fd=w('<div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden"><div class="p-6 border-b border-slate-200 bg-gradient-to-r from-primary-50 to-accent-50"><h2 class="text-xl font-bold text-slate-900">Create New Exercise</h2><p class="text-sm text-slate-600 mt-1">Add a new exercise to the database</p></div><form class="p-6 space-y-6"><div><label class="block text-sm font-semibold text-slate-700 mb-2">Exercise Name *</label><input type=text placeholder="e.g., Bench Press"class="w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400"required></div><div><label class="block text-sm font-semibold text-slate-700 mb-2">Exercise Type *</label></div><div><label class="block text-sm font-semibold text-slate-700 mb-2">Targeted Muscles *</label><div class="space-y-2 mb-4"></div><div><div class="relative mb-2"><input type=text placeholder="Search muscles to add..."class="w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400"></div></div></div><div class="flex gap-3 pt-4"><button type=submit class="flex-1 px-6 py-3 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"></button><button type=button class="px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-medium hover:bg-slate-200 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed">Cancel'),pd=w("<option>"),gd=w('<div class="flex items-center gap-3 p-3 bg-slate-50 rounded-lg border border-slate-200"><div class=flex-1><div class="font-medium text-slate-900 text-sm"></div><div class="text-xs text-slate-500"></div></div><div class="flex gap-1"></div><div class="text-sm font-semibold text-primary-600 w-12 text-right">%</div><button type=button class="text-red-500 hover:text-red-700 text-xl">'),md=w("<button type=button>"),bd=w('<button type=button class="w-full px-4 py-2.5 text-left hover:bg-primary-50 transition-colors flex items-center justify-between group"><div><div class="text-sm font-medium text-slate-900"></div><div class="text-xs text-slate-500"></div></div><span class="text-primary-500 opacity-0 group-hover:opacity-100 transition-opacity">+ Add');async function yd(){return(await Ue("/muscles")).muscles}async function _d(){return(await Ue("/exercise-types")).types}function wd(){const t=jn(),[e]=Pe(yd),[n]=Pe(_d),[r,s]=U(""),[i,o]=U(""),[a,l]=U([]),[c,h]=U(""),[u,d]=U(!1),[p,b]=U(""),g=()=>{const v=e()||[],T=a().map(I=>I.id),P=p().toLowerCase();return v.filter(I=>!T.includes(I.id)).filter(I=>!P||I.name.toLowerCase().includes(P)||I.muscle_group_name.toLowerCase().includes(P)).slice(0,10)},m=v=>{l([...a(),{...v,percentage:20}]),b("")},x=v=>{l(a().filter(T=>T.id!==v))},_=(v,T)=>{const P=T*20;l(a().map(I=>I.id===v?{...I,percentage:P}:I))},S=async v=>{if(v.preventDefault(),h(""),!r().trim()){h("Exercise name is required");return}if(!i()){h("Exercise type is required");return}if(a().length===0){h("At least one muscle must be selected");return}d(!0);try{await ku("/exercises",{name:r().trim(),type:i(),muscles:a().map(T=>({muscle_id:T.id,percentage:T.percentage}))}),t("/exercises")}catch(T){h(T.message||"Network error"),d(!1)}};return(()=>{var v=fd(),T=v.firstChild,P=T.nextSibling,I=P.firstChild,R=I.firstChild,$=R.nextSibling,C=I.nextSibling;C.firstChild;var F=C.nextSibling,M=F.firstChild,J=M.nextSibling,E=J.nextSibling,O=E.firstChild,q=O.firstChild,ee=F.nextSibling,te=ee.firstChild,ie=te.nextSibling;return P.addEventListener("submit",S),f(P,y(k,{get when(){return c()},get children(){var N=od(),z=N.firstChild,W=z.nextSibling,ne=W.firstChild,L=ne.nextSibling,G=W.nextSibling;return f(L,c),G.$$click=()=>h(""),N}}),I),$.$$input=N=>s(N.currentTarget.value),f(C,y(k,{get when(){return n.loading},get children(){return ad()}}),null),f(C,y(k,{get when(){return n()},get children(){var N=ld();return N.firstChild,N.addEventListener("change",z=>o(z.currentTarget.value)),f(N,y(K,{get each(){return n()},children:z=>(()=>{var W=pd();return W.value=z,f(W,z),W})()}),null),V(()=>N.value=i()),N}}),null),f(J,y(k,{get when(){return a().length===0},get children(){return cd()}}),null),f(J,y(K,{get each(){return a()},children:N=>(()=>{var z=gd(),W=z.firstChild,ne=W.firstChild,L=ne.nextSibling,G=W.nextSibling,Y=G.nextSibling,Ee=Y.firstChild,Se=Y.nextSibling;return f(ne,()=>N.name),f(L,()=>N.muscle_group_name),f(G,y(K,{each:[1,2,3,4,5],children:he=>(()=>{var Fe=md();return Fe.$$click=()=>_(N.id,he),V(()=>We(Fe,`text-2xl transition-transform hover:scale-110 ${he<=N.percentage/20?"opacity-100":"opacity-30"}`)),Fe})()})),f(Y,()=>N.percentage,Ee),Se.$$click=()=>x(N.id),z})()}),null),q.$$input=N=>b(N.currentTarget.value),f(E,y(k,{get when(){return ae(()=>!!p())()&&g().length>0},get children(){var N=ud();return f(N,y(K,{get each(){return g()},children:z=>(()=>{var W=bd(),ne=W.firstChild,L=ne.firstChild,G=L.nextSibling;return W.$$click=()=>m(z),f(L,()=>z.name),f(G,()=>z.muscle_group_name),W})()})),N}}),null),f(E,y(k,{get when(){return ae(()=>!!p())()&&g().length===0},get children(){return dd()}}),null),f(te,y(k,{get when(){return u()},get children(){return hd()}}),null),f(te,()=>u()?"Creating...":"Create Exercise",null),ie.$$click=()=>t("/exercises"),V(N=>{var z=u(),W=u();return z!==N.e&&(te.disabled=N.e=z),W!==N.t&&(ie.disabled=N.t=W),N},{e:void 0,t:void 0}),V(()=>$.value=r()),V(()=>q.value=p()),v})()}xe(["click","input"]);var vd=w('<div class="flex flex-col items-center justify-center py-16 text-slate-500"><div class="w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mb-4"></div><span>Loading exercise data...'),xd=w('<div class=p-6><div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-3"><span class=text-lg></span><div class=flex-1><p class=font-medium>Error Loading Exercise</p><p class="text-sm mt-0.5"></p></div></div><button class="mt-4 px-6 py-2 bg-slate-100 text-slate-700 rounded-lg font-medium hover:bg-slate-200">Back to Exercises'),Id=w('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-3"><span class=text-lg></span><div class=flex-1><p class=font-medium>Error</p><p class="text-sm mt-0.5"></p></div><button type=button class="text-red-400 hover:text-red-600">'),Ed=w('<div class="text-sm text-slate-400 italic py-3 text-center bg-slate-50 rounded-lg border border-dashed border-slate-200">No muscles selected. Search and add muscles below.'),Sd=w('<div class="border border-slate-200 rounded-lg divide-y divide-slate-100 max-h-60 overflow-y-auto">'),Cd=w('<div class="text-sm text-slate-400 italic py-2 text-center">No muscles found'),Td=w('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin">'),Ad=w('<form class="p-6 space-y-6"><div><label class="block text-sm font-semibold text-slate-700 mb-2">Exercise Name *</label><input type=text placeholder="e.g., Bench Press"class="w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400"required></div><div><label class="block text-sm font-semibold text-slate-700 mb-2">Exercise Type *</label><select class="w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"required><option value>Select exercise type...</option></select></div><div><label class="block text-sm font-semibold text-slate-700 mb-2">Targeted Muscles *</label><div class="space-y-2 mb-4"></div><div><div class="relative mb-2"><input type=text placeholder="Search muscles to add..."class="w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400"></div></div></div><div class="flex gap-3 pt-4"><button type=submit class="flex-1 px-6 py-3 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"></button><button type=button class="px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-medium hover:bg-slate-200 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed">Cancel'),$d=w('<div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden"><div class="p-6 border-b border-slate-200 bg-gradient-to-r from-primary-50 to-accent-50"><h2 class="text-xl font-bold text-slate-900">Edit Exercise</h2><p class="text-sm text-slate-600 mt-1">Modify exercise details and muscle assignments'),kd=w("<option>"),Pd=w('<div class="flex items-center gap-3 p-3 bg-slate-50 rounded-lg border border-slate-200"><div class=flex-1><div class="font-medium text-slate-900 text-sm"></div><div class="text-xs text-slate-500"></div></div><div class="flex gap-1"></div><div class="text-sm font-semibold text-primary-600 w-12 text-right">%</div><button type=button class="text-red-500 hover:text-red-700 text-xl">'),Rd=w("<button type=button>"),Od=w('<button type=button class="w-full px-4 py-2.5 text-left hover:bg-primary-50 transition-colors flex items-center justify-between group"><div><div class="text-sm font-medium text-slate-900"></div><div class="text-xs text-slate-500"></div></div><span class="text-primary-500 opacity-0 group-hover:opacity-100 transition-opacity">+ Add');async function Nd(t){return Ue(`/exercises/${t}`)}async function Ld(){return(await Ue("/muscles")).muscles}async function Dd(){return(await Ue("/exercise-types")).types}function Md(){const t=no(),e=jn(),n=parseInt(t.id||"0"),[r]=Pe(()=>n,Nd),[s]=Pe(Ld),[i]=Pe(Dd),[o,a]=U(""),[l,c]=U(""),[h,u]=U([]),[d,p]=U(""),[b,g]=U(!1),[m,x]=U("");qr(()=>{const I=r(),R=s();if(I&&R){a(I.name),c(I.type);const $=I.muscles.map(C=>{const F=R.find(M=>M.id===C.muscle_id);return F?{...F,percentage:C.percentage}:null}).filter(Boolean);u($)}});const _=()=>{const I=s()||[],R=h().map(C=>C.id),$=m().toLowerCase();return I.filter(C=>!R.includes(C.id)).filter(C=>!$||C.name.toLowerCase().includes($)||C.muscle_group_name.toLowerCase().includes($)).slice(0,10)},S=I=>{u([...h(),{...I,percentage:20}]),x("")},v=I=>{u(h().filter(R=>R.id!==I))},T=(I,R)=>{const $=R*20;u(h().map(C=>C.id===I?{...C,percentage:$}:C))},P=async I=>{if(I.preventDefault(),p(""),!o().trim()){p("Exercise name is required");return}if(!l()){p("Exercise type is required");return}if(h().length===0){p("At least one muscle must be selected");return}g(!0);try{await Pu(`/exercises/${n}`,{name:o().trim(),type:l(),muscles:h().map(R=>({muscle_id:R.id,percentage:R.percentage}))}),e("/exercises")}catch(R){p(R.message||"Network error"),g(!1)}};return(()=>{var I=$d();return I.firstChild,f(I,y(k,{get when(){return r.loading||s.loading||i.loading},get children(){return vd()}}),null),f(I,y(k,{get when(){return r.error},get children(){var R=xd(),$=R.firstChild,C=$.firstChild,F=C.nextSibling,M=F.firstChild,J=M.nextSibling,E=$.nextSibling;return f(J,()=>r.error?.message),E.$$click=()=>e("/exercises"),R}}),null),f(I,y(k,{get when(){return ae(()=>!!(r()&&s()&&i()))()&&!r.loading},get children(){var R=Ad(),$=R.firstChild,C=$.firstChild,F=C.nextSibling,M=$.nextSibling,J=M.firstChild,E=J.nextSibling;E.firstChild;var O=M.nextSibling,q=O.firstChild,ee=q.nextSibling,te=ee.nextSibling,ie=te.firstChild,N=ie.firstChild,z=O.nextSibling,W=z.firstChild,ne=W.nextSibling;return R.addEventListener("submit",P),f(R,y(k,{get when(){return d()},get children(){var L=Id(),G=L.firstChild,Y=G.nextSibling,Ee=Y.firstChild,Se=Ee.nextSibling,he=Y.nextSibling;return f(Se,d),he.$$click=()=>p(""),L}}),$),F.$$input=L=>a(L.currentTarget.value),E.addEventListener("change",L=>c(L.currentTarget.value)),f(E,y(K,{get each(){return i()},children:L=>(()=>{var G=kd();return G.value=L,f(G,L),G})()}),null),f(ee,y(k,{get when(){return h().length===0},get children(){return Ed()}}),null),f(ee,y(K,{get each(){return h()},children:L=>(()=>{var G=Pd(),Y=G.firstChild,Ee=Y.firstChild,Se=Ee.nextSibling,he=Y.nextSibling,Fe=he.nextSibling,oi=Fe.firstChild,ai=Fe.nextSibling;return f(Ee,()=>L.name),f(Se,()=>L.muscle_group_name),f(he,y(K,{each:[1,2,3,4,5],children:sr=>(()=>{var sn=Rd();return sn.$$click=()=>T(L.id,sr),V(()=>We(sn,`text-2xl transition-transform hover:scale-110 ${sr<=L.percentage/20?"opacity-100":"opacity-30"}`)),sn})()})),f(Fe,()=>L.percentage,oi),ai.$$click=()=>v(L.id),G})()}),null),N.$$input=L=>x(L.currentTarget.value),f(te,y(k,{get when(){return ae(()=>!!m())()&&_().length>0},get children(){var L=Sd();return f(L,y(K,{get each(){return _()},children:G=>(()=>{var Y=Od(),Ee=Y.firstChild,Se=Ee.firstChild,he=Se.nextSibling;return Y.$$click=()=>S(G),f(Se,()=>G.name),f(he,()=>G.muscle_group_name),Y})()})),L}}),null),f(te,y(k,{get when(){return ae(()=>!!m())()&&_().length===0},get children(){return Cd()}}),null),f(W,y(k,{get when(){return b()},get children(){return Td()}}),null),f(W,()=>b()?"Updating...":"Update Exercise",null),ne.$$click=()=>e("/exercises"),V(L=>{var G=b(),Y=b();return G!==L.e&&(W.disabled=L.e=G),Y!==L.t&&(ne.disabled=L.t=Y),L},{e:void 0,t:void 0}),V(()=>F.value=o()),V(()=>E.value=l()),V(()=>N.value=m()),R}}),null),I})()}xe(["click","input"]);var Ud=w('<div class="flex gap-3 mb-6 flex-wrap"><span class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium shadow-sm">Total Users<span class="bg-primary-500 text-white px-2 py-0.5 rounded-full text-xs font-semibold"></span></span><span class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium shadow-sm">Admins<span class="bg-red-500 text-white px-2 py-0.5 rounded-full text-xs font-semibold"></span></span><span class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium shadow-sm">Users<span class="bg-blue-500 text-white px-2 py-0.5 rounded-full text-xs font-semibold">'),Fd=w('<div class="flex flex-col items-center justify-center py-16 text-slate-500"><div class="spinner mb-4"></div><span>Loading users...'),Bd=w('<div class="py-12 px-4 text-center text-red-600"><div class="text-4xl mb-2"></div><p class=font-medium>Failed to load users</p><p class="text-sm opacity-80 mt-1"></p><button class="mt-4 px-6 py-2 bg-primary-500 text-white rounded-lg text-sm font-medium hover:bg-primary-600 active:scale-[0.98] transition-all">Try Again'),Hd=w('<div class="py-16 px-4 text-center text-slate-500"><div class="text-4xl mb-2 opacity-50"></div><p>No users found matching "<!>"'),Vd=w('<div class="hidden sm:block overflow-x-auto"><table class="w-full text-sm"><thead class="bg-gradient-to-b from-slate-50 to-slate-100 sticky top-0"><tr><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">#</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Email</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Role</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Created</th><th class="px-4 py-3 text-left font-semibold text-slate-700 border-b-2 border-slate-200 text-xs uppercase tracking-wide">Modified</th></tr></thead><tbody class="divide-y divide-slate-100">'),jd=w('<div class="sm:hidden p-4 space-y-3">'),Wd=w('<div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden"><div class="p-4 border-b border-slate-200 bg-slate-50"><div class=relative><span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></span><input type=text class="w-full pl-11 pr-4 py-3 border border-slate-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-slate-400 transition-shadow"placeholder="Search users by email, role, or ID...">'),zd=w('<tr class="hover:bg-primary-50 transition-colors"><td class="px-4 py-3 text-slate-400 text-sm"></td><td class="px-4 py-3"><span class="font-semibold text-slate-900"></span></td><td class="px-4 py-3"><span></span></td><td class="px-4 py-3 text-slate-600 text-sm"></td><td class="px-4 py-3 text-slate-600 text-sm">'),Gd=w('<div class="bg-white border border-slate-200 rounded-lg p-4 active:bg-primary-50 transition-colors"><div class="flex justify-between items-start gap-3 mb-3"><span class="font-semibold text-slate-900"></span><span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded flex-shrink-0">#</span></div><div class="flex items-center gap-2 mb-3"><span></span></div><div class="space-y-1 text-xs text-slate-500"><div><span class=text-slate-400>Created:</span> </div><div><span class=text-slate-400>Modified:</span> ');async function qd(){return Ue("/users")}function $t(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Kd(){const[t,{refetch:e}]=Pe(qd),[n,r]=U(""),s=H(()=>{const a=t()?.users??[],l=n().toLowerCase().trim();return l?a.filter(c=>c.email.toLowerCase().includes(l)||c.role.toLowerCase().includes(l)||c.id.toString().includes(l)):a}),i=H(()=>(t()?.users??[]).filter(l=>l.role==="ADMIN").length),o=H(()=>(t()?.users??[]).filter(l=>l.role==="USER").length);return[y(k,{get when(){return t()},get children(){var a=Ud(),l=a.firstChild,c=l.firstChild,h=c.nextSibling,u=l.nextSibling,d=u.firstChild,p=d.nextSibling,b=u.nextSibling,g=b.firstChild,m=g.nextSibling;return f(h,()=>t().count),f(p,i),f(m,o),a}}),(()=>{var a=Wd(),l=a.firstChild,c=l.firstChild,h=c.firstChild,u=h.nextSibling;return u.$$input=d=>r(d.currentTarget.value),f(a,y(k,{get when(){return t.loading},get children(){return Fd()}}),null),f(a,y(k,{get when(){return t.error},get children(){var d=Bd(),p=d.firstChild,b=p.nextSibling,g=b.nextSibling,m=g.nextSibling;return f(g,()=>t.error?.message),m.$$click=()=>e(),d}}),null),f(a,y(k,{get when(){return ae(()=>!!(t()&&!t.loading))()&&!t.error},get children(){return[y(k,{get when(){return s().length===0},get children(){var d=Hd(),p=d.firstChild,b=p.nextSibling,g=b.firstChild,m=g.nextSibling;return m.nextSibling,f(b,n,m),d}}),y(k,{get when(){return s().length>0},get children(){return[(()=>{var d=Vd(),p=d.firstChild,b=p.firstChild,g=b.nextSibling;return f(g,y(K,{get each(){return s()},children:m=>(()=>{var x=zd(),_=x.firstChild,S=_.nextSibling,v=S.firstChild,T=S.nextSibling,P=T.firstChild,I=T.nextSibling,R=I.nextSibling;return f(_,()=>m.id),f(v,()=>m.email),f(P,()=>m.role),f(I,()=>$t(m.created_when)),f(R,()=>$t(m.modified_when)),V(()=>We(P,`inline-block px-3 py-1 rounded-full text-xs font-medium ${m.role==="ADMIN"?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600"}`)),x})()})),d})(),(()=>{var d=jd();return f(d,y(K,{get each(){return s()},children:p=>(()=>{var b=Gd(),g=b.firstChild,m=g.firstChild,x=m.nextSibling;x.firstChild;var _=g.nextSibling,S=_.firstChild,v=_.nextSibling,T=v.firstChild,P=T.firstChild;P.nextSibling;var I=T.nextSibling,R=I.firstChild;return R.nextSibling,f(m,()=>p.email),f(x,()=>p.id,null),f(S,()=>p.role),f(T,()=>$t(p.created_when),null),f(I,()=>$t(p.modified_when),null),V(()=>We(S,`inline-block px-3 py-1 rounded-full text-xs font-medium ${p.role==="ADMIN"?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600"}`)),b})()})),d})()]}})]}}),null),V(()=>u.value=n()),a})()]}xe(["input","click"]);var Jd=w('<div class="mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm">'),Yd=w('<div class="min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-50 to-accent-50"><div class="max-w-md w-full bg-white rounded-2xl shadow-2xl p-8"><div class="text-center mb-8"><h1 class="text-3xl font-bold text-slate-900 mb-2"> Goliath Fitness</h1><p class=text-slate-600></p></div><form class=space-y-4><div><label class="block text-sm font-medium text-slate-700 mb-1">Email</label><input type=email required class="w-full px-4 py-3 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-shadow"placeholder=you@example.com></div><div><label class="block text-sm font-medium text-slate-700 mb-1">Password</label><input type=password required minlength=6 class="w-full px-4 py-3 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-shadow"placeholder=></div><button type=submit class="w-full py-3 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed"></button></form><div class="flex items-center my-6"><div class="flex-1 border-t border-slate-200"></div><span class="px-4 text-sm text-slate-500">or</span><div class="flex-1 border-t border-slate-200"></div></div><button class="w-full py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-lg font-medium hover:bg-slate-50 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"><svg class="w-5 h-5"viewBox="0 0 24 24"><path fill=#4285F4 d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill=#34A853 d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill=#FBBC05 d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill=#EA4335 d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg>Continue with Google</button><div class="mt-6 text-center text-sm text-slate-600">'),Xd=w('<button class="text-primary-500 hover:text-primary-600 font-medium">Sign up'),Zd=w('<button class="text-primary-500 hover:text-primary-600 font-medium">Sign in');function Qd(){const t=ii(),e=jn(),[n,r]=U(""),[s,i]=U(""),[o,a]=U(""),[l,c]=U(!1),[h,u]=U("login"),d=async b=>{b.preventDefault(),a(""),c(!0);try{h()==="login"?await t.signIn(n(),s()):await t.signUp(n(),s()),e("/")}catch(g){a(g.message||"Authentication failed")}finally{c(!1)}},p=async()=>{a(""),c(!0);try{await t.signInWithGoogle(),e("/")}catch(b){a(b.message||"Google sign-in failed")}finally{c(!1)}};return(()=>{var b=Yd(),g=b.firstChild,m=g.firstChild,x=m.firstChild,_=x.nextSibling,S=m.nextSibling,v=S.firstChild,T=v.firstChild,P=T.nextSibling,I=v.nextSibling,R=I.firstChild,$=R.nextSibling,C=I.nextSibling,F=S.nextSibling,M=F.nextSibling,J=M.nextSibling;return f(_,()=>h()==="login"?"Sign in to your account":"Create a new account"),f(g,y(k,{get when(){return o()},get children(){var E=Jd();return f(E,o),E}}),S),S.addEventListener("submit",d),P.$$input=E=>r(E.currentTarget.value),$.$$input=E=>i(E.currentTarget.value),f(C,(()=>{var E=ae(()=>!!l());return()=>E()?"Please wait...":h()==="login"?"Sign In":"Sign Up"})()),M.$$click=p,f(J,(()=>{var E=ae(()=>h()==="login");return()=>E()?["Don't have an account?"," ",(()=>{var O=Xd();return O.$$click=()=>u("signup"),O})()]:["Already have an account?"," ",(()=>{var O=Zd();return O.$$click=()=>u("login"),O})()]})()),V(E=>{var O=l(),q=l();return O!==E.e&&(C.disabled=E.e=O),q!==E.t&&(M.disabled=E.t=q),E},{e:void 0,t:void 0}),V(()=>P.value=n()),V(()=>$.value=s()),b})()}xe(["input","click"]);var eh=w('<div class="flex items-center gap-3"><div class="text-right text-sm"><div class="font-medium text-slate-700"></div><button class="text-slate-500 hover:text-slate-700 text-xs">Sign out</button></div><div class="w-10 h-10 bg-primary-500 rounded-full flex items-center justify-center text-white font-medium">'),th=w('<div class="min-h-screen p-4 sm:p-6 lg:p-8"><header class="max-w-6xl mx-auto mb-6"><div class="flex justify-between items-start"><div><h1 class="text-2xl sm:text-3xl font-bold text-slate-900 flex items-center gap-3"><span class="text-2xl sm:text-3xl"></span>Goliath Fitness</h1><p class="text-slate-500 mt-1">Complete database of muscles and exercises</p></div></div><nav class="flex gap-2 mt-4 flex-wrap"></nav></header><main class="max-w-6xl mx-auto"></main><footer class="max-w-6xl mx-auto mt-6 text-center text-slate-400 text-sm">Goliath Fitness Tracker  Built with SolidJS + Tailwind');const nh=t=>{const e=ii();return(()=>{var n=th(),r=n.firstChild,s=r.firstChild;s.firstChild;var i=s.nextSibling,o=r.nextSibling;return f(s,y(k,{get when(){return e.user},get fallback(){return y(Te,{href:"/login",class:`px-4 py-2 bg-primary-500 text-white rounded-lg text-sm font-medium
                       hover:bg-primary-600 active:scale-[0.98] transition-all shadow-md`,children:"Sign In"})},get children(){var a=eh(),l=a.firstChild,c=l.firstChild,h=c.nextSibling,u=l.nextSibling;return f(c,()=>e.user?.email),h.$$click=()=>e.signOut(),f(u,()=>e.user?.email?.charAt(0).toUpperCase()),a}}),null),f(i,y(Te,{href:"/",class:"px-4 py-2 rounded-lg text-sm font-medium transition-all",activeClass:"bg-primary-500 text-white shadow-md",inactiveClass:"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200",end:!0,children:" Muscles"}),null),f(i,y(Te,{href:"/exercises",class:"px-4 py-2 rounded-lg text-sm font-medium transition-all",activeClass:"bg-primary-500 text-white shadow-md",inactiveClass:"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200",children:" Exercises"}),null),f(i,y(Te,{href:"/users",class:"px-4 py-2 rounded-lg text-sm font-medium transition-all",activeClass:"bg-primary-500 text-white shadow-md",inactiveClass:"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200",children:" Users"}),null),f(i,y(Te,{href:"/exercises/new",class:"px-4 py-2 rounded-lg text-sm font-medium transition-all",activeClass:"bg-accent-500 text-white shadow-md",inactiveClass:"bg-accent-50 text-accent-700 hover:bg-accent-100 border border-accent-200",children:" Add Exercise"}),null),f(o,()=>t.children),n})()},rh=()=>y(_o,{root:nh,get children(){return[y(Ke,{path:"/login",component:Qd}),y(Ke,{path:"/",component:Wu}),y(Ke,{path:"/exercises",component:id}),y(Ke,{path:"/users",component:Kd}),y(Ke,{path:"/exercises/new",component:wd}),y(Ke,{path:"/exercises/:id/edit",component:Md})]}});function sh(){return y($u,{get children(){return y(rh,{})}})}xe(["click"]);const ih=document.getElementById("root");Ri(()=>y(sh,{}),ih);
